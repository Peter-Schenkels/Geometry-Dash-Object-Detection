/*! For license information please see sdk.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SilverSurferSDK=e():t.SilverSurferSDK=e()}(window,(function(){return(()=>{var t={558:(t,e,n)=>{"use strict";Array.isArray;var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i="object"==typeof o&&o&&o.Object===Object&&o,a="object"==typeof self&&self&&self.Object===Object&&self,u=i||a||Function("return this")(),c=u.Symbol,s=Object.prototype,l=s.hasOwnProperty,f=s.toString,p=c?c.toStringTag:void 0,d=Object.prototype.toString,h=c?c.toStringTag:void 0,v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=l.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch(t){}var o=f.call(t);return r&&(e?t[p]=n:delete t[p]),o}(t):function(t){return d.call(t)}(t)},y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},b=u["__core-js_shared__"],g=(r=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",w=Function.prototype.toString,m=/^\[object .+?Constructor\]$/,_=Function.prototype,S=Object.prototype,x=_.toString,O=S.hasOwnProperty,E=RegExp("^"+x.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=function(t){return!(!y(t)||(e=t,g&&g in e))&&(function(t){if(!y(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?E:m).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},k=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return j(n)?n:void 0},I=k(Object,"create"),A=Object.prototype.hasOwnProperty,P=Object.prototype.hasOwnProperty;function T(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}T.prototype.clear=function(){this.__data__=I?I(null):{},this.size=0},T.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},T.prototype.get=function(t){var e=this.__data__;if(I){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return A.call(e,t)?e[t]:void 0},T.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:P.call(e,t)},T.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=I&&void 0===e?"__lodash_hash_undefined__":e,this};var C=T,D=function(t,e){for(var n=t.length;n--;)if((r=t[n][0])===(o=e)||r!=r&&o!=o)return n;var r,o;return-1},R=Array.prototype.splice;function L(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}L.prototype.clear=function(){this.__data__=[],this.size=0},L.prototype.delete=function(t){var e=this.__data__,n=D(e,t);return!(n<0||(n==e.length-1?e.pop():R.call(e,n,1),--this.size,0))},L.prototype.get=function(t){var e=this.__data__,n=D(e,t);return n<0?void 0:e[n][1]},L.prototype.has=function(t){return D(this.__data__,t)>-1},L.prototype.set=function(t,e){var n=this.__data__,r=D(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var N=L,M=k(u,"Map"),z=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}F.prototype.clear=function(){this.size=0,this.__data__={hash:new C,map:new(M||N),string:new C}},F.prototype.delete=function(t){var e=z(this,t).delete(t);return this.size-=e?1:0,e},F.prototype.get=function(t){return z(this,t).get(t)},F.prototype.has=function(t){return z(this,t).has(t)},F.prototype.set=function(t,e){var n=z(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var B=F;function U(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(U.Cache||B),n}U.Cache=B;var H,V,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/\\(\\)?/g,q=(H=U((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(J,(function(t,n,r,o){e.push(r?o.replace(G,"$1"):n||t)})),e}),(function(t){return 500===V.size&&V.clear(),t})),V=H.cache,c?c.prototype:void 0);q&&q.toString;function W(){return!("undefined"==typeof window||!window.location||!window.location.hostname)&&window.location.hostname.includes("fandom.com")}e.sH=function(){return W()?"https://services.fandom.com/":"https://services.fandom-dev.us/"},e.yv=function(){return!0}},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function u(t,n,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(n);return s===Array.isArray(t)?s?c.arrayMerge(t,n,c):function(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}(t,n,c):r(n,c)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var c=u;t.exports=c},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),o=n(401),i=n(7667),a=n(1327),u=n(1866);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8407:(t,e,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),u=n(4705);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),o=n(1285),i=n(6e3),a=n(9916),u=n(5265);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),o=n(619),i=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6384:(t,e,n)=>{var r=n(8407),o=n(7465),i=n(3779),a=n(7599),u=n(4758),c=n(4309);function s(t){var e=this.__data__=new r(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},7443:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},4636:(t,e,n)=>{var r=n(2545),o=n(5694),i=n(1469),a=n(4144),u=n(5776),c=n(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&c(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!s.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||h.push(y);return h}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),o=n(3674);t.exports=function(t,e){return t&&r(e,o(e),t)}},3886:(t,e,n)=>{var r=n(8363),o=n(1704);t.exports=function(t,e){return t&&r(e,o(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),o=n(7412),i=n(4865),a=n(4037),u=n(3886),c=n(4626),s=n(278),l=n(8805),f=n(1911),p=n(8234),d=n(6904),h=n(4160),v=n(3824),y=n(9148),b=n(8517),g=n(1469),w=n(4144),m=n(6688),_=n(3218),S=n(2928),x=n(3674),O=n(1704),E="[object Arguments]",j="[object Function]",k="[object Object]",I={};I[E]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[k]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[j]=I["[object WeakMap]"]=!1,t.exports=function t(e,n,A,P,T,C){var D,R=1&n,L=2&n,N=4&n;if(A&&(D=T?A(e,P,T,C):A(e)),void 0!==D)return D;if(!_(e))return e;var M=g(e);if(M){if(D=v(e),!R)return s(e,D)}else{var z=h(e),F=z==j||"[object GeneratorFunction]"==z;if(w(e))return c(e,R);if(z==k||z==E||F&&!T){if(D=L||F?{}:b(e),!R)return L?f(e,u(D,e)):l(e,a(D,e))}else{if(!I[z])return T?e:{};D=y(e,z,R)}}C||(C=new r);var B=C.get(e);if(B)return B;C.set(e,D),S(e)?e.forEach((function(r){D.add(t(r,n,A,r,e,C))})):m(e)&&e.forEach((function(r,o){D.set(o,t(r,n,A,o,e,C))}));var U=M?void 0:(N?L?d:p:L?O:x)(e);return o(U||e,(function(r,o){U&&(r=e[o=r]),i(D,o,t(r,n,A,o,e,C))})),D}},3118:(t,e,n)=>{var r=n(3218),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},1848:t=>{t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,n)=>{var r=n(2488),o=n(7285);t.exports=function t(e,n,i,a,u){var c=-1,s=e.length;for(i||(i=o),u||(u=[]);++c<s;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,u):r(u,l):a||(u[u.length]=l)}return u}},7786:(t,e,n)=>{var r=n(1811),o=n(327);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},8866:(t,e,n)=>{var r=n(2488),o=n(1469);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},4239:(t,e,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,n)=>{var r=n(1848),o=n(2722),i=n(2351);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},9454:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),o=n(7005);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,u))}},2492:(t,e,n)=>{var r=n(6384),o=n(7114),i=n(8351),a=n(6096),u=n(4160),c=n(1469),s=n(4144),l=n(6719),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,b){var g=c(t),w=c(e),m=g?p:u(t),_=w?p:u(e),S=(m=m==f?d:m)==d,x=(_=_==f?d:_)==d,O=m==_;if(O&&s(t)){if(!s(e))return!1;g=!0,S=!1}if(O&&!S)return b||(b=new r),g||l(t)?o(t,e,n,v,y,b):i(t,e,m,n,v,y,b);if(!(1&n)){var E=S&&h.call(t,"__wrapped__"),j=x&&h.call(e,"__wrapped__");if(E||j){var k=E?t.value():t,I=j?e.value():e;return b||(b=new r),y(k,I,n,v,b)}}return!!O&&(b||(b=new r),a(t,e,n,v,y,b))}},5588:(t,e,n)=>{var r=n(4160),o=n(7005);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),o=n(939);t.exports=function(t,e,n,i){var a=n.length,u=a,c=!i;if(null==t)return!u;for(t=Object(t);a--;){var s=n[a];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<u;){var l=(s=n[a])[0],f=t[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in t))return!1}else{var d=new r;if(i)var h=i(f,p,l,t,e,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,n)=>{var r=n(3560),o=n(5346),i=n(3218),a=n(346),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),o=n(7005);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),o=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),o=n(6432),i=n(6557),a=n(1469),u=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}},280:(t,e,n)=>{var r=n(5726),o=n(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),o=n(5726),i=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},1573:(t,e,n)=>{var r=n(2958),o=n(1499),i=n(2634);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),o=n(7361),i=n(9095),a=n(5403),u=n(9162),c=n(2634),s=n(327);t.exports=function(t,e){return a(t)&&u(e)?c(s(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},9877:t=>{var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},6560:(t,e,n)=>{var r=n(5703),o=n(8777),i=n(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},4259:t=>{t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),o=n(9932),i=n(1469),a=n(3448),u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,n)=>{var r=n(8668),o=n(7443),i=n(1196),a=n(4757),u=n(3593),c=n(1814);t.exports=function(t,e,n){var s=-1,l=o,f=t.length,p=!0,d=[],h=d;if(n)p=!1,l=i;else if(f>=200){var v=e?null:u(t);if(v)return c(v);p=!1,l=a,h=new r}else h=e?[]:d;t:for(;++s<f;){var y=t[s],b=e?e(y):y;if(y=n||0!==y?y:0,p&&b==b){for(var g=h.length;g--;)if(h[g]===b)continue t;e&&h.push(b),d.push(y)}else l(h,b,n)||(h!==d&&h.push(b),d.push(y))}return d}},7406:(t,e,n)=>{var r=n(1811),o=n(928),i=n(292),a=n(327);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),o=n(5403),i=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),o=n(9465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?o(n,s,l):r(n,s,l)}return n}},8805:(t,e,n)=>{var r=n(8363),o=n(9551);t.exports=function(t,e){return r(t,o(t),e)}},1911:(t,e,n)=>{var r=n(8363),o=n(1442);t.exports=function(t,e){return r(t,o(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},3593:(t,e,n)=>{var r=n(8525),o=n(308),i=n(1814),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},696:(t,e,n)=>{var r=n(8630);t.exports=function(t){return r(t)?void 0:t}},8777:(t,e,n)=>{var r=n(852),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,n)=>{var r=n(8668),o=n(2908),i=n(4757);t.exports=function(t,e,n,a,u,c){var s=1&n,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=c.get(t),d=c.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,y=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++h<l;){var b=t[h],g=e[h];if(a)var w=s?a(g,b,h,e,t,c):a(b,g,h,t,e,c);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(b===t||u(b,t,n,a,c)))return y.push(e)}))){v=!1;break}}else if(b!==g&&!u(b,g,n,a,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},8351:(t,e,n)=>{var r=n(2705),o=n(1149),i=n(7813),a=n(7114),u=n(8776),c=n(1814),s=r?r.prototype:void 0,l=s?s.valueOf:void 0;t.exports=function(t,e,n,r,s,f,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var h=1&r;if(d||(d=c),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;r|=2,p.set(t,e);var y=a(d(t),d(e),r,s,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var c=1&n,s=r(t),l=s.length;if(l!=r(e).length&&!c)return!1;for(var f=l;f--;){var p=s[f];if(!(c?p in e:o.call(e,p)))return!1}var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var v=!0;u.set(t,e),u.set(e,t);for(var y=c;++f<l;){var b=t[p=s[f]],g=e[p];if(i)var w=c?i(g,b,p,e,t,u):i(b,g,p,t,e,u);if(!(void 0===w?b===g||a(b,g,n,i,u):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(v=!1)}return u.delete(t),u.delete(e),v}},9021:(t,e,n)=>{var r=n(5564),o=n(5357),i=n(61);t.exports=function(t){return i(o(t,void 0,r),t+"")}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),o=n(9551),i=n(3674);t.exports=function(t){return r(t,i,o)}},6904:(t,e,n)=>{var r=n(8866),o=n(1442),i=n(1704);t.exports=function(t){return r(t,i,o)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),o=n(3674);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),o=n(7801);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},9551:(t,e,n)=>{var r=n(4963),o=n(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},1442:(t,e,n)=>{var r=n(2488),o=n(5924),i=n(9551),a=n(479),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},4160:(t,e,n)=>{var r=n(8552),o=n(7071),i=n(3818),a=n(8525),u=n(577),c=n(4239),s=n(346),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=s(r),y=s(o),b=s(i),g=s(a),w=s(u),m=c;(r&&m(new r(new ArrayBuffer(1)))!=h||o&&m(new o)!=l||i&&m(i.resolve())!=f||a&&m(new a)!=p||u&&m(new u)!=d)&&(m=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case v:return h;case y:return l;case b:return f;case g:return p;case w:return d}return e}),t.exports=m},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),o=n(5694),i=n(1469),a=n(5776),u=n(1780),c=n(327);t.exports=function(t,e,n){for(var s=-1,l=(e=r(e,t)).length,f=!1;++s<l;){var p=c(e[s]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++s!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(p,l)&&(i(t)||o(t))}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),o=n(7157),i=n(3147),a=n(419),u=n(7133);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),o=n(5924),i=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},7285:(t,e,n)=>{var r=n(2705),o=n(5694),i=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),o=n(8612),i=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),o=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),o=n(8407),i=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=n(c),r(t,this,s)}}},292:(t,e,n)=>{var r=n(7786),o=n(4259);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},5639:(t,e,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),o=n(1275)(r);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),o=n(7071),i=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},2351:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},5514:(t,e,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:(t,e,n)=>{var r=n(1078);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},9095:(t,e,n)=>{var r=n(13),o=n(222);t.exports=function(t,e){return null!=t&&o(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),o=n(1780);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=n(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},1609:(t,e,n)=>{var r=n(280),o=n(4160),i=n(5694),a=n(1469),u=n(8612),c=n(4144),s=n(5726),l=n(6719),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(s(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},8446:(t,e,n)=>{var r=n(939);t.exports=function(t,e){return r(t,e)}},3560:(t,e,n)=>{var r=n(4239),o=n(3218);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),o=n(1717),i=n(1167),a=i&&i.isMap,u=a?o(a):r;t.exports=u},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=s.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},2928:(t,e,n)=>{var r=n(9221),o=n(1717),i=n(1167),a=i&&i.isSet,u=a?o(a):r;t.exports=u},3448:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),o=n(1717),i=n(1167),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},3674:(t,e,n)=>{var r=n(4636),o=n(280),i=n(8612);t.exports=function(t){return i(t)?r(t):o(t)}},1704:(t,e,n)=>{var r=n(4636),o=n(313),i=n(8612);t.exports=function(t){return i(t)?r(t,!0):o(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},8306:(t,e,n)=>{var r=n(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},308:t=>{t.exports=function(){}},7557:(t,e,n)=>{var r=n(9932),o=n(5990),i=n(7406),a=n(1811),u=n(8363),c=n(696),s=n(9021),l=n(6904),f=s((function(t,e){var n={};if(null==t)return n;var s=!1;e=r(e,(function(e){return e=a(e,t),s||(s=e.length>1),e})),u(t,l(t),n),s&&(n=o(n,7,c));for(var f=e.length;f--;)i(n,e[f]);return n}));t.exports=f},9601:(t,e,n)=>{var r=n(371),o=n(9152),i=n(5403),a=n(327);t.exports=function(t){return i(t)?r(a(t)):o(t)}},3608:(t,e,n)=>{var r=n(9877),o=n(6612),i=n(8601),a=parseFloat,u=Math.min,c=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var s=t;t=e,e=s}if(n||t%1||e%1){var l=c();return u(t+l*(e-t+a("1e-"+((l+"").length-1))),e)}return r(t,e)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},9579:(t,e,n)=>{var r=n(4259),o=n(554);t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,(e=i-e)<0?0:e,i)):[]}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),o=n(3218),i=n(3448),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||c.test(t)?s(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},4908:(t,e,n)=>{var r=n(5652);t.exports=function(t){return t&&t.length?r(t):[]}},5578:(t,e,n)=>{var r=n(7206),o=n(5652);t.exports=function(t,e){return t&&t.length?o(t,r(e,2)):[]}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";var t,e,o;n.r(r),n.d(r,{ACTION:()=>Ku,addAction:()=>Zu,addActiveDataAction:()=>Yu,addInteraction:()=>rc,default:()=>sc,getActions:()=>tc,getAllActions:()=>ec,getContext:()=>cc,getGalactusUserProfile:()=>uc,getUserProfile:()=>nc,getVersionHash:()=>ac,isCrossdomainFinished:()=>oc,isInitialized:()=>ic,registerClient:()=>Qu,trackPageview:()=>Xu}),function(t){t.INIT="roots-initial",t.LOADED="roots-loaded"}(t||(t={})),function(t){t.SS_PRE_BOOTSTRAP="ss_pre_bootstrap",t.SS_SDK_START="ss_sdk_start",t.SS_SDK_LOADED="ss_sdk_loaded",t.SS_SDK_READY="ss_sdk_ready",t.SS_CROSS_DOMAIN_READY="ss_cross_domain_ready",t.SS_CROSS_DOMAIN_REGISTER_START="ss_cross_domain_register_start",t.SS_CROSS_DOMAIN_REGISTER_ALL_PAGES_DONE="ss_cross_domain_register_all_pages_done"}(e||(e={})),function(t){t.PF_START="pf_start",t.PF_LOADED="pf_loaded",t.PF_READY="pf_ready"}(o||(o={}));var i,a,u=Object.values({SilverSurfer:"silversurfer",PathfinderExperiments:"pf-experiments",ClientSide:"browser-client-",Custom:"custom-"}),c=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};!function(t){t.CATEGORY="category",t.EVENT="event",t.LABEL="label",t.ACTION="action",t.VALUE="value",t.NON_INTERACTIVE="nonInteractive",t.IS_DEBUG="isDebug"}(i||(i={})),function(t){t.EXPERIMENT_VARIANT="experimentVariant",t.SS_VERSION="silverSurferVersion",t.AD_PVUID="pvUID",t.BEACON_ID="beaconId"}(a||(a={}));const s=c(c([],Object.values(a),!0),Object.values(i),!0);function l(){var t,e,n;return null!==(n=null===(e=null===(t=null===window||void 0===window?void 0:window.google_tag_manager)||void 0===t?void 0:t.dataLayer)||void 0===e?void 0:e.gtmDom)&&void 0!==n&&n}function f(){l()&&(window.__datalayer_pre=window.__datalayer_pre||[],window.__datalayer_pre.length>0&&(window.__datalayer_pre_interval_id&&window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre.forEach((function(t){return window.dataLayer.push(t)})),window.__datalayer_pre=[]),window.__datalayer_pre_interval_id&&(window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre_interval_id=null))}function p(t){if(t.isDebug=!!t.isDebug,t.event){if(window.dataLayer=window.dataLayer||[],t.category||(t.category=t.event),t.label||(t.label=t.category),t.isDebug){n=t.event,u.some((function(t){return n.includes(t)}))||console.warn("[Tracking] GTM event not caught",t.event);var e=s;Object.keys(t).every((function(n){return!(!e.includes(n)&&!t.skipValidation&&(console.warn("[Tracking] Element not enabled in DW",n),1))}))}return function(t){return window.__datalayer_pre=window.__datalayer_pre||[],l()?(f(),window.dataLayer.push(t)):window.__datalayer_pre.push(t)}(t)}var n;return console.error("[Tracking] missing 'event' field",t),null}function d(){return!!window.location.search.includes("ss_debug")||h()}window.__datalayer_pre_interval_id||l()||(window.__datalayer_pre_interval_id=window.setInterval(f,500));var h=function(){return/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname},v=function(){return v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},v.apply(this,arguments)};function y(t,e){var n=function(n){var r=v(v({nonInteractive:!0},t),n);return e(r),r};return n.click=function(e){return n(v(v(v({},t),e),{action:"click",nonInteractive:!1}))},n.impression=function(e){return n(v(v(v({},t),e),{action:"impression",nonInteractive:!0}))},n.loaded=function(e){return n(v(v(v({},t),e),{action:"loaded",nonInteractive:!0}))},n.extend=function(n){return y(v(v({},t),n),e)},n}function b(t,e){var n=v({},t);if(!n.event&&!n.category)throw console.error("[Tracking] Missing event or category field",n),new Error("Missing event or category field");return n.category||(n.category=n.event),n.event||(n.event=n.category),y(n,e)}function g(t){return b(t,p)}function w(t){return"".concat(d()?"dev-":"").concat(t)}b({category:"base-tracker"},p);var m="__frontend_utils_consistent_random";function _(){return window[m]||(window[m]=Math.random()),window[m]}var S=g({event:"browser-client-timings"});var x=new Map;function O(t,e){var n,r;x.set(t,e),n=t,r=e,(d()||_()<=.005)&&S({category:"timings-event-".concat(n),label:r.toString(),action:"timed",value:r})}function E(t){try{var e=Math.round(Date.now()-function(){if(!window.performance&&!window.performance.timeOrigin)throw new Error("Performance value not set");return window.performance.timeOrigin}());return O(t,e),d()&&console.log("Timing",t,e),e}catch(t){console.error("TimingRecord Error",t)}}function j(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}(t)+"=([^;]*)"));return e?e[1]:null}const k=function(){var t;return null!==(t=j("wikia_beacon_id"))&&void 0!==t?t:null};var I=n(9579),A=n.n(I),P=n(7557),T=n.n(P),C={profileId:null,namespaces:{adTags:{},devices:{set:[]},locations:{set:[]},languages:{contentLanguages:[],acceptLanguages:[]}}},D=function(){return D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},D.apply(this,arguments)},R=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},L=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},N="silver_surfer_tracking_key_v2",M="silver_surfer_actions_v2",z="silver_surfer_interactions_v2",F="silver-surfer-active-data-v2";function B(){return R(this,void 0,void 0,(function(){var t;return L(this,(function(e){switch(e.label){case 0:return[4,K()];case 1:return t=[e.sent()],[4,Q()];case 2:return t=t.concat([e.sent()]),[4,W()];case 3:return[2,4*t.concat([e.sent()]).map((function(t){return JSON.stringify(t).length})).reduce((function(t,e){return t+e}),0)]}}))}))}var U=function(t){return"".concat("silver-surfer-galactus-fallback-user-profile-v2","_").concat(t)};function H(t){return R(this,void 0,void 0,(function(){var e,n;return L(this,(function(r){return(e=localStorage.getItem(U(t)))&&(n=JSON.parse(e))&&4===n.apiVersion?[2,T()(n,"apiVersion")]:[2,null]}))}))}function V(){return R(this,void 0,void 0,(function(){var t,e;return L(this,(function(n){return(t=localStorage.getItem(F))&&(e=JSON.parse(t))&&1===e.apiVersion?[2,T()(e,"apiVersion")]:[2,null]}))}))}function J(t,e){return R(this,void 0,void 0,(function(){return L(this,(function(n){try{localStorage.setItem(U(t),JSON.stringify(D(D({},e),{apiVersion:4})))}catch(t){return[2,!1]}return[2,!0]}))}))}function G(t){return R(this,void 0,void 0,(function(){return L(this,(function(e){try{localStorage.setItem(F,JSON.stringify(D(D({},t),{apiVersion:1})))}catch(t){return[2,!1]}return[2,!0]}))}))}function q(t){return R(this,void 0,void 0,(function(){return L(this,(function(e){try{localStorage.setItem(z,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function W(){return R(this,void 0,void 0,(function(){var t;return L(this,(function(e){return(t=localStorage.getItem(z))?[2,JSON.parse(t)]:[2,{}]}))}))}function $(t){return R(this,void 0,void 0,(function(){return L(this,(function(e){try{localStorage.setItem(N,JSON.stringify(A()(t,se[ae.LocalStorage])))}catch(t){return[2,!1]}return[2,!0]}))}))}function K(){return R(this,void 0,void 0,(function(){var t;return L(this,(function(e){return(t=localStorage.getItem(N))?[2,JSON.parse(t)]:[2,[]]}))}))}function X(t){return R(this,void 0,void 0,(function(){return L(this,(function(e){try{localStorage.setItem(M,JSON.stringify(A()(t,le[ae.LocalStorage])))}catch(t){return[2,!1]}return[2,!0]}))}))}function Q(){return R(this,void 0,void 0,(function(){var t;return L(this,(function(e){return(t=localStorage.getItem(M))?[2,JSON.parse(t)]:[2,[]]}))}))}let Y,Z;const tt=new WeakMap,et=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap;let it={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return et.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ut(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function at(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ct(this),t),ut(tt.get(this))}:function(...t){return ut(e.apply(ct(this),t))}:function(t,...n){const r=e.call(ct(this),t,...n);return nt.set(r,t.sort?t.sort():[t]),ut(r)}:(t instanceof IDBTransaction&&function(t){if(et.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));et.set(t,e)}(t),n=t,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,it):t);var e,n}function ut(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(ut(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&tt.set(e,t)})).catch((()=>{})),ot.set(e,t),e}(t);if(rt.has(t))return rt.get(t);const e=at(t);return e!==t&&(rt.set(t,e),ot.set(e,t)),e}const ct=t=>ot.get(t);function st(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),u=ut(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(ut(a.result),t.oldVersion,t.newVersion,ut(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),u.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),u}const lt=["get","getKey","getAll","getAllKeys","count"],ft=["put","add","delete","clear"],pt=new Map;function dt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(pt.get(e))return pt.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=ft.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!lt.includes(n))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),o&&i.done]))[0]};return pt.set(e,i),i}var ht;ht=it,it={...ht,get:(t,e,n)=>dt(t,e)||ht.get(t,e,n),has:(t,e)=>!!dt(t,e)||ht.has(t,e)};var vt=n(558),yt={DEBUG:"ss_debug",BRANCH:"ss_branch_deploy",CANARY:"ss_canary",ENABLED_PATHFINDER_MODULE:"ss_pathfinder_enable",FORCED_PATHFINDER:"ss_pathfinder_forced",FORCED_BUCKETING:"ss_pathfinder_force_bucket"},bt=h,gt=(null==="c4659c5f\n"?void 0:"c4659c5f\n".replace(/\n/g,""))||"local",wt=function(t){return window.location.search.includes(t)},mt=function(){return wt("".concat(yt.DEBUG,"=true"))},_t=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function St(){}var xt=Date.now();function Ot(){var t,e;return((Date.now()-(null!==(e=null===(t=window.performance)||void 0===t?void 0:t.timeOrigin)&&void 0!==e?e:xt))/1e3).toFixed(4)}function Et(t){return"error"===t?console.error:"debug"===t?mt()||bt()?console.debug:St:console.log}var jt=function(t,e,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=Et(t),u="%c".concat(e," | ").concat(Ot(),"s | ").concat(r);o.length?a.apply(void 0,_t([u,n],o,!1)):a(u,n)};const kt=function(t,e,n){return void 0===n&&(n=[]),function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return jt.apply(void 0,_t([e,t,n.join(";"),r],o,!1))}};function It(t){return["background-color: silver;","padding: 2px 4px","border-radius: 2px","color: ".concat(t)]}const At={info:kt("SilverSurfer","info",It("#000")),debug:kt("SilverSurfer","debug",It("#330")),error:kt("SilverSurfer","error",It("#300"))};var Pt=g({event:"browser-client-metric"}),Tt=_();function Ct(t,e,n,r){try{return n<Tt&&!d()?null:Pt({category:w("browser-client-metric-".concat(t)),label:r,value:null!=e?e:t,action:"metric"})}catch(t){return null}}var Dt=function(){return Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Dt.apply(this,arguments)},Rt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Lt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Nt="page-view-table",Mt="actions-table",zt="interactions-table",Ft="current",Bt="galactus-fallback-user-profile-table",Ut="active-data-table",Ht=!1;function Vt(){return Rt(this,void 0,void 0,(function(){var t;return Lt(this,(function(e){switch(e.label){case 0:if(Ht)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,st("silver-surfer",5,{upgrade:function(t,e,n,r){t.objectStoreNames.contains(Nt)||t.createObjectStore(Nt),t.objectStoreNames.contains(Bt)||t.createObjectStore(Bt),t.objectStoreNames.contains(Mt)||t.createObjectStore(Mt,{autoIncrement:!0}),t.objectStoreNames.contains(zt)||t.createObjectStore(zt),t.objectStoreNames.contains(Ut)||t.createObjectStore(Ut)},blocked:function(){},blocking:function(){},terminated:function(){}})];case 2:return[2,e.sent()];case 3:return t=e.sent(),At.error("Cannot access indexedDB:",t),Ct("cannot-access-indexeddb",1,1),Ht=!0,[3,4];case 4:return[2]}}))}))}var Jt=function(t){return"user-profile-".concat(t)},Gt="active-data";function qt(){return Rt(this,void 0,void 0,(function(){var t,e;return Lt(this,(function(n){switch(n.label){case 0:return[4,Vt()];case 1:return[4,null==(t=n.sent())?void 0:t.get(Ut,Gt)];case 2:return(e=n.sent())&&1===e.apiVersion?[2,e.data]:[2,null]}}))}))}function Wt(t){return Rt(this,void 0,void 0,(function(){var e,n;return Lt(this,(function(r){switch(r.label){case 0:return[4,Vt()];case 1:return[4,null==(e=r.sent())?void 0:e.get(Bt,Jt(t))];case 2:return(n=r.sent())&&4===n.apiVersion?[2,T()(n,"apiVersion")]:[2,null]}}))}))}function $t(t){return Rt(this,void 0,void 0,(function(){var e,n;return Lt(this,(function(r){switch(r.label){case 0:return[4,Vt()];case 1:return e=r.sent(),n={data:t,apiVersion:1},[4,null==e?void 0:e.put(Ut,n,Gt)];case 2:return[2,r.sent()===Gt]}}))}))}function Kt(t,e){return Rt(this,void 0,void 0,(function(){var n,r,o;return Lt(this,(function(i){switch(i.label){case 0:return[4,Vt()];case 1:return n=i.sent(),r=Jt(t),o=Dt(Dt({},e),{apiVersion:4}),[4,null==n?void 0:n.put(Bt,o,r)];case 2:return[2,i.sent()===r]}}))}))}function Xt(){var t;return Rt(this,void 0,void 0,(function(){var e,n,r;return Lt(this,(function(o){switch(o.label){case 0:return[4,Vt()];case 1:return[4,null==(e=o.sent())?void 0:e.getAllKeys(Nt)];case 2:return n=null!==(t=o.sent())&&void 0!==t?t:[],[4,null==e?void 0:e.getAll(Nt)];case 3:return r=o.sent(),[2,n.map((function(t,e){return Dt({id:t},r[e])}))]}}))}))}function Qt(t){return Rt(this,void 0,void 0,(function(){var e,n,r,o=this;return Lt(this,(function(i){switch(i.label){case 0:return[4,Vt()];case 1:return e=i.sent(),(null==(n=null==e?void 0:e.transaction(Nt,"readwrite",{durability:"strict"}))?void 0:n.store)?[4,n.store.clear()]:[2,!1];case 2:return i.sent(),r=!0,A()(t,se[ae.IndexedDB]).forEach((function(t){return Rt(o,void 0,void 0,(function(){var e,o,i;return Lt(this,(function(a){switch(a.label){case 0:return e=t.id,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["id"]),[4,n.store.put(o,e)];case 1:return i=a.sent(),r&&(r=i===e),[2]}}))}))})),[4,n.done];case 3:return i.sent(),[2,r]}}))}))}function Yt(t){return Rt(this,void 0,void 0,(function(){var e;return Lt(this,(function(n){switch(n.label){case 0:return[4,Vt()];case 1:return[4,null==(e=n.sent())?void 0:e.put(zt,t,Ft)];case 2:return[2,n.sent()===Ft]}}))}))}function Zt(){var t;return Rt(this,void 0,void 0,(function(){var e;return Lt(this,(function(n){switch(n.label){case 0:return[4,Vt()];case 1:return[4,null==(e=n.sent())?void 0:e.get(zt,Ft)];case 2:return[2,null!==(t=n.sent())&&void 0!==t?t:{}]}}))}))}function te(){return Rt(this,void 0,void 0,(function(){var t;return Lt(this,(function(e){switch(e.label){case 0:return[4,Vt()];case 1:return[4,null==(t=e.sent())?void 0:t.getAll(Mt)];case 2:return[2,e.sent()]}}))}))}function ee(t){return Rt(this,void 0,void 0,(function(){var e,n,r,o=this;return Lt(this,(function(i){switch(i.label){case 0:return[4,Vt()];case 1:return e=i.sent(),(null==(n=null==e?void 0:e.transaction(Mt,"readwrite",{durability:"strict"}))?void 0:n.store)?[4,n.store.clear()]:[2,!1];case 2:return i.sent(),r=!0,A()(t,le[ae.IndexedDB]).forEach((function(t){return Rt(o,void 0,void 0,(function(){var e;return Lt(this,(function(o){switch(o.label){case 0:return[4,n.store.put(t)];case 1:return e=o.sent(),r&&(r=!!e),[2]}}))}))})),[4,n.done];case 3:return i.sent(),[2,r]}}))}))}function ne(){return Rt(this,void 0,void 0,(function(){var t,e,n,r;return Lt(this,(function(o){switch(o.label){case 0:return[4,Vt()];case 1:return t=o.sent(),e=0,[4,null==t?void 0:t.transaction(Nt).store.openCursor()];case 2:n=o.sent(),o.label=3;case 3:return n?(e+=JSON.stringify(n.value).length,[4,n.continue()]):[3,5];case 4:return n=o.sent(),[3,3];case 5:return[4,null==t?void 0:t.transaction(Mt).store.openCursor()];case 6:r=o.sent(),o.label=7;case 7:return r?(e+=JSON.stringify(r.value).length,[4,r.continue()]):[3,9];case 8:return r=o.sent(),[3,7];case 9:return[2,4*e]}}))}))}function re(t){window.TrackJS&&window.TrackJS.track&&window.TrackJS.track(t)}var oe,ie,ae,ue=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ce=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};!function(t){t.BOTH="both",t.IndexedDB="indexeddb",t.LocalStorage="localstorage"}(ae||(ae={}));var se=((oe={})[ae.IndexedDB]=200,oe[ae.LocalStorage]=100,oe),le=((ie={})[ae.IndexedDB]=500,ie[ae.LocalStorage]=200,ie);function fe(t){if(void 0===t&&(t=ae.BOTH),t===ae.IndexedDB)return!1;try{return!!(null===window||void 0===window?void 0:window.localStorage)}catch(t){return!1}}function pe(t){if(void 0===t&&(t=ae.BOTH),t===ae.LocalStorage)return!1;try{return!!(null===window||void 0===window?void 0:window.indexedDB)}catch(t){return!1}}function de(t){return ue(this,void 0,void 0,(function(){var e,n,r,o,i;return ce(this,(function(a){switch(a.label){case 0:return pe()?[4,$t(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,pe()?[4,G(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)||At.error("Failed to cache Active Data response",t),[2,i]}}))}))}function he(){return ue(this,void 0,void 0,(function(){return ce(this,(function(t){switch(t.label){case 0:return pe()?[4,qt()]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return fe()?[4,V()]:[3,4];case 4:return[2,null]}}))}))}function ve(t){return ue(this,void 0,void 0,(function(){return ce(this,(function(e){switch(e.label){case 0:return pe()?[4,Wt(t)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return fe()?[4,H(t)]:[3,4];case 4:return[2,null]}}))}))}function ye(t){return void 0===t&&(t=ae.BOTH),ue(this,void 0,void 0,(function(){return ce(this,(function(e){switch(e.label){case 0:return pe(t)?[4,Xt()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return fe(t)?[4,K()]:[3,4];case 4:return[2,[]]}}))}))}function be(t){return void 0===t&&(t=ae.BOTH),ue(this,void 0,void 0,(function(){return ce(this,(function(e){switch(e.label){case 0:return pe(t)?[4,te()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return fe(t)?[4,Q()]:[3,4];case 4:return[2,[]]}}))}))}function ge(t){return void 0===t&&(t=ae.BOTH),ue(this,void 0,void 0,(function(){return ce(this,(function(e){switch(e.label){case 0:return pe(t)?[4,Zt()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return fe(t)?[4,W()]:[3,4];case 4:return[2,{}]}}))}))}function we(t){return void 0===t&&(t=ae.BOTH),ue(this,void 0,void 0,(function(){var e,n,r,o;return ce(this,(function(i){switch(i.label){case 0:if(e=-1,n=-1,!pe(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,B()];case 2:return e=i.sent(),[3,4];case 3:return r=i.sent(),re("error-localstorage-size"),At.debug("Error while getting localStorage size",r),[3,4];case 4:if(!fe(t))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,ne()];case 6:return n=i.sent(),[3,8];case 7:return o=i.sent(),re("error-indexdb-size"),At.debug("Error while getting indexedDB size",o),[3,8];case 8:return[2,{localStorageSize:e,indexedDBSize:n}]}}))}))}function me(t,e,n,r){void 0===r&&(r={}),console.error("logErrorEvent",n,r),re({client:t,clientVersion:e,name:n,data:r})}Math.max(le[ae.LocalStorage],se[ae.LocalStorage]);var _e=function(t,e){return function(n,r){return void 0===r&&(r={}),me(t,e,n,r)}},Se=function(t,e){return function(n,r){return me(t,e,n,function(t){return{ok:t.ok,redirected:t.redirected,status:t.status,statusText:t.statusText,type:t.type,url:t.url}}(r))}},xe=("silver-surfer",gt,_e("silver-surfer",gt),Se("silver-surfer",gt));function Oe(t,e,n){return void 0===n&&(n={}),fetch(e,n).then((function(n){return"opaque"===n.type||n.ok||401===n.status||404===n.status||("function"==typeof t?t(e,n):console.error("fetchWithLogging Error",{url:e,response:n})),n}))}var Ee=function(){return Ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ee.apply(this,arguments)},je=function(t){return function(e,n){return Oe(t,(0,vt.sH)()+e,Ee({mode:"cors",credentials:"include"},n))}},ke=function(t){return function(e,n,r){return Oe(t,(0,vt.sH)()+e,Ee({method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n)},r))}},Ie=je(xe),Ae=(ke(xe),n(9996)),Pe=n.n(Ae);function Te(t){var e=0;return function(){return new Promise((function(n,r){var o=setInterval((function(){t.eventCheck()&&(clearInterval(o),n(null==t?void 0:t.onResolve())),t.intervalTime*e>t.maxWaitTime&&(clearInterval(o),r(null==t?void 0:t.onReject())),e++}),t.intervalTime)}))}}const Ce=function(){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return t=Te({eventCheck:function(){var t;return!!(null===(t=null===window||void 0===window?void 0:window.ads)||void 0===t?void 0:t.pushToConsentQueue)},intervalTime:50,maxWaitTime:3e3,onReject:function(){return!1},onResolve:function(){return!0}}),[4,t()];case 1:return e=n.sent(),[2,new Promise((function(t,n){e||(console.error("window.ads took too long to load"),n(!1)),window.ads.pushToConsentQueue((function(e){e.gdprConsent?t(!0):(console.log("GDPR Status failed"),n(!1))}))}))]}}))}))};function De(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,n,r,o,i,a;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ce()];case 1:return u.sent(),[3,3];case 2:return u.sent(),At.debug("Consent not given, cannot contact Galactus"),[2,null];case 3:return u.trys.push([3,7,,8]),e=void 0,mt()&&((n=new Headers).set("X-Fandom-Debug-GID","1"),e={headers:n}),[4,Ie("galactus-user-profile/profiles/".concat(t),e)];case 4:return 200!==(r=u.sent()).status?[3,6]:[4,r.json()];case 5:return o=u.sent(),i=function(t){return Pe()(C,t)}(o),At.debug("Galactus API response",i),p({event:"custom-galactus-api-response-full",category:"custom-galactus-api-response-full",label:"custom-galactus-api-response-full",galactusResponse:o,skipValidation:!0}),[2,i];case 6:return[3,8];case 7:return a=u.sent(),At.error("Failed to fetch profile",a),[3,8];case 8:return[2,null]}}))}))}function Re(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Le(t){return!!t&&!!t[xn]}function Ne(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===On}(t)||Array.isArray(t)||!!t[Sn]||!!t.constructor[Sn]||Ve(t)||Je(t))}function Me(t){return Le(t)||Re(23,t),t[xn].t}function ze(t,e,n){void 0===n&&(n=!1),0===Fe(t)?(n?Object.keys:En)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function Fe(t){var e=t[xn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ve(t)?2:Je(t)?3:0}function Be(t,e){return 2===Fe(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ue(t,e,n){var r=Fe(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function He(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Ve(t){return gn&&t instanceof Map}function Je(t){return wn&&t instanceof Set}function Ge(t){return t.o||t.t}function qe(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=jn(t);delete e[xn];for(var n=En(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function We(t,e){return void 0===e&&(e=!1),Ke(t)||Le(t)||!Ne(t)||(Fe(t)>1&&(t.set=t.add=t.clear=t.delete=$e),Object.freeze(t),e&&ze(t,(function(t,e){return We(e,!0)}),!0)),t}function $e(){Re(2)}function Ke(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Xe(t){var e=kn[t];return e||Re(18,t),e}function Qe(){return yn}function Ye(t,e){e&&(Xe("Patches"),t.u=[],t.s=[],t.v=e)}function Ze(t){tn(t),t.p.forEach(nn),t.p=null}function tn(t){t===yn&&(yn=t.l)}function en(t){return yn={p:[],l:yn,h:t,m:!0,_:0}}function nn(t){var e=t[xn];0===e.i||1===e.i?e.j():e.O=!0}function rn(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||Xe("ES5").S(e,t,r),r?(n[xn].P&&(Ze(e),Re(4)),Ne(t)&&(t=on(e,t),e.l||un(e,t)),e.u&&Xe("Patches").M(n[xn].t,t,e.u,e.s)):t=on(e,n,[]),Ze(e),e.u&&e.v(e.u,e.s),t!==_n?t:void 0}function on(t,e,n){if(Ke(e))return e;var r=e[xn];if(!r)return ze(e,(function(o,i){return an(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return un(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=qe(r.k):r.o;ze(3===r.i?new Set(o):o,(function(e,i){return an(t,r,o,e,i,n)})),un(t,o,!1),n&&t.u&&Xe("Patches").R(r,n,t.u,t.s)}return r.o}function an(t,e,n,r,o,i){if(Le(o)){var a=on(t,o,i&&e&&3!==e.i&&!Be(e.D,r)?i.concat(r):void 0);if(Ue(n,r,a),!Le(a))return;t.m=!1}if(Ne(o)&&!Ke(o)){if(!t.h.F&&t._<1)return;on(t,o),e&&e.A.l||un(t,o)}}function un(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&We(e,n)}function cn(t,e){var n=t[xn];return(n?Ge(n):t)[e]}function sn(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ln(t){t.P||(t.P=!0,t.l&&ln(t.l))}function fn(t){t.o||(t.o=qe(t.t))}function pn(t,e,n){var r=Ve(e)?Xe("MapSet").N(e,n):Je(e)?Xe("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:Qe(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=r,i=In;n&&(o=[r],i=An);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(e,n):Xe("ES5").J(e,n);return(n?n.A:Qe()).p.push(r),r}function dn(t){return Le(t)||Re(22,t),function t(e){if(!Ne(e))return e;var n,r=e[xn],o=Fe(e);if(r){if(!r.P&&(r.i<4||!Xe("ES5").K(r)))return r.t;r.I=!0,n=hn(e,o),r.I=!1}else n=hn(e,o);return ze(n,(function(e,o){r&&function(t,e){return 2===Fe(t)?t.get(e):t[e]}(r.t,e)===o||Ue(n,e,t(o))})),3===o?new Set(n):n}(t)}function hn(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return qe(t)}var vn,yn,bn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),gn="undefined"!=typeof Map,wn="undefined"!=typeof Set,mn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,_n=bn?Symbol.for("immer-nothing"):((vn={})["immer-nothing"]=!0,vn),Sn=bn?Symbol.for("immer-draftable"):"__$immer_draftable",xn=bn?Symbol.for("immer-state"):"__$immer_state",On=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),En="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,jn=Object.getOwnPropertyDescriptors||function(t){var e={};return En(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},kn={},In={get:function(t,e){if(e===xn)return t;var n=Ge(t);if(!Be(n,e))return function(t,e,n){var r,o=sn(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!Ne(r)?r:r===cn(t.t,e)?(fn(t),t.o[e]=pn(t.A.h,r,t)):r},has:function(t,e){return e in Ge(t)},ownKeys:function(t){return Reflect.ownKeys(Ge(t))},set:function(t,e,n){var r=sn(Ge(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=cn(Ge(t),e),i=null==o?void 0:o[xn];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(He(n,o)&&(void 0!==n||Be(t.t,e)))return!0;fn(t),ln(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==cn(t.t,e)||e in t.t?(t.D[e]=!1,fn(t),ln(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ge(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){Re(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Re(12)}},An={};ze(In,(function(t,e){An[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),An.deleteProperty=function(t,e){return An.set.call(this,t,e,void 0)},An.set=function(t,e,n){return In.set.call(this,t[0],e,n,t[0])};var Pn=function(){function t(t){var e=this;this.g=mn,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&Re(6),void 0!==r&&"function"!=typeof r&&Re(7),Ne(t)){var u=en(e),c=pn(e,t,void 0),s=!0;try{a=n(c),s=!1}finally{s?Ze(u):tn(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return Ye(u,r),rn(t,u)}),(function(t){throw Ze(u),t})):(Ye(u,r),rn(a,u))}if(!t||"object"!=typeof t){if(void 0===(a=n(t))&&(a=t),a===_n&&(a=void 0),e.F&&We(a,!0),r){var l=[],f=[];Xe("Patches").M(t,a,l,f),r(l,f)}return a}Re(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))};var r,o,i=e.produce(t,n,(function(t,e){r=t,o=e}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return[t,r,o]})):[i,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){Ne(t)||Re(8),Le(t)&&(t=dn(t));var e=en(this),n=pn(this,t,void 0);return n[xn].C=!0,tn(e),n},e.finishDraft=function(t,e){var n=(t&&t[xn]).A;return Ye(n,e),rn(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!mn&&Re(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=Xe("Patches").$;return Le(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),Tn=new Pn,Cn=Tn.produce;Tn.produceWithPatches.bind(Tn),Tn.setAutoFreeze.bind(Tn),Tn.setUseProxies.bind(Tn),Tn.applyPatches.bind(Tn),Tn.createDraft.bind(Tn),Tn.finishDraft.bind(Tn);const Dn=Cn;function Rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){Rn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var zn="function"==typeof Symbol&&Symbol.observable||"@@observable",Fn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bn={INIT:"@@redux/INIT"+Fn(),REPLACE:"@@redux/REPLACE"+Fn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fn()}};function Un(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Hn(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Mn(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Mn(1));return n(Hn)(t,e)}if("function"!=typeof t)throw new Error(Mn(2));var o=t,i=e,a=[],u=a,c=!1;function s(){u===a&&(u=a.slice())}function l(){if(c)throw new Error(Mn(3));return i}function f(t){if("function"!=typeof t)throw new Error(Mn(4));if(c)throw new Error(Mn(5));var e=!0;return s(),u.push(t),function(){if(e){if(c)throw new Error(Mn(6));e=!1,s();var n=u.indexOf(t);u.splice(n,1),a=null}}}function p(t){if(!Un(t))throw new Error(Mn(7));if(void 0===t.type)throw new Error(Mn(8));if(c)throw new Error(Mn(9));try{c=!0,i=o(i,t)}finally{c=!1}for(var e=a=u,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error(Mn(10));o=t,p({type:Bn.REPLACE})}function h(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(Mn(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[zn]=function(){return this},t}return p({type:Bn.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[zn]=h,r}function Vn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Jn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(Mn(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=Vn.apply(void 0,i)(n.dispatch),Nn(Nn({},n),{},{dispatch:r})}}}function Gn(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var qn=Gn();qn.withExtraArgument=Gn;const Wn=qn;var $n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Xn=Object.defineProperty,Qn=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Yn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,tr=function(t,e,n){return e in t?Xn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},er=function(t,e){for(var n in e||(e={}))Yn.call(e,n)&&tr(t,n,e[n]);if(Qn)for(var r=0,o=Qn(e);r<o.length;r++)n=o[r],Zn.call(e,n)&&tr(t,n,e[n]);return t},nr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Vn:Vn.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var rr=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return $n(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Kn([void 0],t[0].concat(this)))):new(e.bind.apply(e,Kn([void 0],t.concat(this))))},e}(Array);function or(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return er(er({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function ir(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function ar(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:Dn(t.initialState,(function(){})),o=t.reducers||{},i=Object.keys(o),a={},u={},c={};function s(){var e="function"==typeof t.extraReducers?ir(t.extraReducers):[t.extraReducers],n=e[0],o=void 0===n?{}:n,i=e[1],a=void 0===i?[]:i,c=e[2],s=void 0===c?void 0:c,l=er(er({},o),u);return function(t,e,n,r){void 0===n&&(n=[]);var o,i="function"==typeof e?ir(e):[e,n,r],a=i[0],u=i[1],c=i[2];if(function(t){return"function"==typeof t}(t))o=function(){return Dn(t(),(function(){}))};else{var s=Dn(t,(function(){}));o=function(){return s}}function l(t,e){void 0===t&&(t=o());var n=Kn([a[e.type]],u.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[c]),n.reduce((function(t,n){if(n){var r;if(Le(t))return void 0===(r=n(t,e))?t:r;if(Ne(t))return Dn(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return l.getInitialState=o,l}(r,l,a,s)}return i.forEach((function(t){var n,r,i=o[t],s=e+"/"+t;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,a[t]=n,u[s]=n,c[t]=r?or(s,r):or(s)})),{name:e,reducer:function(t,e){return n||(n=s()),n(t,e)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=s()),n.getInitialState()}}}function ur(t){setTimeout(t,1)}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[xn];return In.get(e,t)},set:function(e){var n=this[xn];In.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][xn];if(!o.P)switch(o.i){case 5:r(o)&&ln(o);break;case 4:n(o)&&ln(o)}}}function n(t){for(var e=t.t,n=t.k,r=En(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==xn){var a=e[i];if(void 0===a&&!Be(e,i))return!0;var u=n[i],c=u&&u[xn];if(c?c.t!==a:!He(u,a))return!0}}var s=!!e[xn];return r.length!==En(e).length+(s?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var o={};!function(t,e){kn[t]||(kn[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=jn(n);delete i[xn];for(var a=En(i),u=0;u<a.length;u++){var c=a[u];i[c]=t(c,e||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:Qe(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,xn,{value:i,writable:!0}),o},S:function(t,n,o){o?Le(n)&&n[xn].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[xn];if(n){var o=n.t,i=n.k,a=n.D,u=n.i;if(4===u)ze(i,(function(e){e!==xn&&(void 0!==o[e]||Be(o,e)?a[e]||t(i[e]):(a[e]=!0,ln(n)))})),ze(o,(function(t){void 0!==i[t]||Be(i,t)||(a[t]=!1,ln(n))}));else if(5===u){if(r(n)&&(ln(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var s=o.length;s<i.length;s++)a[s]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)i.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var cr,sr,lr=n(7361),fr=n.n(lr),pr=n(3608),dr=n.n(pr);!function(t){t.MEDIAWIKI="mw",t.DISCUSSIONS="dis"}(cr||(cr={})),function(t){t.GAMEPEDIA="gamepedia",t.MOBILE="mobile-wiki",t.DESKTOP="oasis"}(sr||(sr={}));var hr,vr=n(5578),yr=n.n(vr);function br(){return{p:null,pId:null,time:Date.now()}}function gr(t){return{product:t.p,productVariant:t.pVar,productCategory:t.pCat,productId:t.pId,page:t.pg,pageId:t.pgId,pageLanguage:t.pgLang,adTags:t.adTags,time:t.time}}function wr(){return"object"!=typeof(null===window||void 0===window?void 0:window._plc)?br():window._plc}var mr,_r,Sr=((hr={})[cr.MEDIAWIKI]=["2350603","174","38969","4396","159","130814","2180","105","2237"],hr[cr.DISCUSSIONS]=[],hr);function xr(t){return!(t<1)||dr()(0,100)<=100*t}function Or(t,e){return At.debug("App state changed: ".concat(t,"->").concat(e)),e}!function(t){t.New="new",t.Starting="starting",t.Delayed="delayed",t.Ready="ready"}(_r||(_r={}));var Er,jr,kr,Ir=ar({name:"AppSlice",initialState:{state:_r.New,config:{sendDebugLog:mt()||xr(fr()(window,"_ss.sendDebugLogRate",.01)),sendGalactusRequest:mt()||bt()||xr(fr()(window,"_ss.sendGalactusRequestRate",1)),sendTracking:(Er=wr(),jr=Sr[Er.p],kr=null==jr?void 0:jr.includes(Er.pId),xr(fr()(window,"_ss.sendTrackingRate",kr?1:0))),disableCrossdomain:wt("ss_no_crossdomain=true")||fr()(window,"_ss.disableCrossdomain",!1),manualPageview:bt()&&wt("ss_no_pageview=true")||fr()(window,"_ss.manualPageview",!1)},clients:[]},reducers:{starting:function(t){t.state!==_r.New&&t.state!==_r.Delayed||(t.state=Or(t.state,_r.Starting))},delayed:function(t){t.state===_r.New&&(t.state=Or(t.state,_r.Delayed))},ready:function(t){t.state===_r.Starting&&(t.state=Or(t.state,_r.Ready))},addClient:function(t,e){var n=e.payload;t.clients.push(n)},reboot:function(t){if(t.state===_r.Ready){var e=t.clients.map((function(t){return null==t?void 0:t.onReboot})).filter(Boolean);ur((function(){return e.forEach((function(t){return t()}))}))}}}}),Ar=Ir.actions,Pr=((mr=Ir.actions).starting,mr.ready,mr.delayed,mr.addClient);mr.reboot;const Tr=Ir.reducer;var Cr,Dr=ar({name:"ContextSlice",initialState:{user:null,page:null,floorAdhesionSlot:"unknown",uapSlot:"unknown",topBoxadSlot:"unknown",topLeaderboardSlot:"unknown",hiviLeaderboardSlot:"unknown"},reducers:{updateUser:function(t,e){t.user=e.payload},updatePage:function(t,e){t.page=e.payload},floorAdhesionSlotUpdate:function(t,e){t.floorAdhesionSlot=e.payload},uapSlotUpdate:function(t,e){t.uapSlot=e.payload},topBoxadSlotUpdate:function(t,e){t.topBoxadSlot=e.payload},topLeaderboardUpdate:function(t,e){t.topLeaderboardSlot=e.payload},hiviLeaderboardUpdate:function(t,e){t.hiviLeaderboardSlot=e.payload}}}),Rr=(Dr.actions,(Cr=Dr.actions).updateUser),Lr=Cr.updatePage,Nr=Cr.floorAdhesionSlotUpdate,Mr=Cr.uapSlotUpdate,zr=Cr.topLeaderboardUpdate,Fr=Cr.hiviLeaderboardUpdate,Br=Cr.topBoxadSlotUpdate;const Ur=Dr.reducer;var Hr,Vr,Jr,Gr;function qr(t){return{id:"".concat(t.productId,"_").concat(t.pageId,"_").concat(t.time),context:(e=t,{p:e.product,pVar:e.productVariant,pCat:e.productCategory,pId:e.productId,pg:e.page,pgId:e.pageId,pgLang:e.pageLanguage,adTags:e.adTags,time:e.time}),time:t.time,version:"2"};var e}function Wr(t){if("1"===(null==t?void 0:t.version)){var e=t;return gr({p:cr.MEDIAWIKI,pCat:e.vertical,pId:e.communityId,pgId:e.pageId,time:e.time})}return"2"!==(null==t?void 0:t.version)?gr(br()):gr(t.context)}(Jr=Hr||(Hr={})).Request="CrossDomain::Register::Request",Jr.Response="CrossDomain::Register::Response",function(t){t.Off="off",t.Initializing="initializing",t.Ready="ready"}(Vr||(Vr={}));var $r=ar({name:"BrowserStorageSlice",initialState:{session:{interactions:{},actions:[],pages:[]},history:{interactions:{},actions:[],pages:[]},serviceCache:{galactusUserProfile:{},activeData:{}},local:{status:Vr.Initializing,size:{localStorageSize:-1,indexedDBSize:-1}},crossdomain:{status:Vr.Initializing,statusErrorMessage:null,size:{localStorageSize:-1,indexedDBSize:-1},pagesFinished:!1,actionsFinished:!1,interactionsFinished:!1}},reducers:{cacheGalactusUserProfile:function(t,e){t.serviceCache.galactusUserProfile[e.payload.beaconId]=e.payload.profile},cacheActiveData:function(t,e){t.serviceCache.activeData=e.payload.activeData},crossdomainStatus:function(t,e){var n,r=e.payload.status;"ready"!=t.crossdomain.status&&(t.crossdomain.status=r,t.crossdomain.statusErrorMessage="off"===r?null===(n=e.payload)||void 0===n?void 0:n.statusErrorMessage:"")},sessionPageViewSaved:function(t,e){t.session.pages.push(Wr(e.payload))},sessionActionSaved:function(t,e){t.session.actions.push(e.payload)},sessionAddInteraction:function(t,e){var n,r=t.session.interactions,o=null!==(n=r[e.payload])&&void 0!==n?n:0;r[e.payload]=o+1,t.session.interactions=r},updateCrossdomainInteractions:function(t,e){t.history.interactions=e.payload,t.crossdomain.interactionsFinished=!0,t.crossdomain.status=Vr.Ready},updateCrossdomainActions:function(t,e){t.history.actions=e.payload,t.crossdomain.actionsFinished=!0,t.crossdomain.status=Vr.Ready},updateCrossdomainPages:function(t,e){t.history.pages=e.payload.map(Wr),t.crossdomain.pagesFinished=!0,t.crossdomain.status=Vr.Ready},updateCrossdomainSize:function(t,e){t.crossdomain.size=e.payload,t.crossdomain.status=Vr.Ready},updateLocalHistory:function(t,e){var n,r,o,i;t.history.interactions=e.payload.interactions,t.history.pages=null!==(r=null===(n=e.payload.pages)||void 0===n?void 0:n.map(Wr))&&void 0!==r?r:[],t.history.actions=null!==(i=null===(o=e.payload)||void 0===o?void 0:o.actions)&&void 0!==i?i:[],t.local.status=Vr.Ready},updateLocalStorageSize:function(t,e){t.local.size=e.payload}}}),Kr=($r.actions,(Gr=$r.actions).cacheGalactusUserProfile),Xr=Gr.cacheActiveData,Qr=Gr.crossdomainStatus,Yr=Gr.sessionPageViewSaved,Zr=Gr.sessionActionSaved,to=Gr.sessionAddInteraction,eo=Gr.updateCrossdomainSize,no=Gr.updateCrossdomainPages,ro=Gr.updateCrossdomainActions,oo=Gr.updateCrossdomainInteractions,io=Gr.updateLocalHistory,ao=Gr.updateLocalStorageSize,uo=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new rr);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Wn):r.push(Wn.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,u=void 0===a?n():a,c=r.devTools,s=void 0===c||c,l=r.preloadedState,f=void 0===l?void 0:l,p=r.enhancers,d=void 0===p?void 0:p;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:Bn.INIT}))throw new Error(Mn(12));if(void 0===n(void 0,{type:Bn.PROBE_UNKNOWN_ACTION()}))throw new Error(Mn(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var c=a[u],s=n[c],l=t[c],f=s(l,e);if(void 0===f)throw e&&e.type,new Error(Mn(14));o[c]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(t).length)?o:t}}(i)}var h=u;"function"==typeof h&&(h=h(n));var v=Jn.apply(void 0,h),y=Vn;s&&(y=nr(er({trace:!1},"object"==typeof s&&s)));var b=[v];return Array.isArray(d)?b=Kn([v],d):"function"==typeof d&&(b=d(b)),Hn(e,f,y.apply(void 0,b))}({reducer:{App:Tr,Context:Ur,BrowserStorage:$r.reducer},middleware:function(t){return t({serializableCheck:{ignoredPaths:["App.clients"],ignoredActions:["AppSlice/addClient"]}})},devTools:{name:"SilverSurfer",trace:mt()}});const co=uo;var so=n(4908),lo=n.n(so),fo="NOT_FOUND",po=function(t,e){return t===e};function ho(t,e){var n,r,o="object"==typeof e?e:{equalityCheck:e},i=o.equalityCheck,a=void 0===i?po:i,u=o.maxSize,c=void 0===u?1:u,s=o.resultEqualityCheck,l=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}(a),f=1===c?(n=l,{get:function(t){return r&&n(r.key,t)?r.value:fo},put:function(t,e){r={key:t,value:e}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return fo}return{get:r,put:function(e,o){r(e)===fo&&(n.unshift({key:e,value:o}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,l);function p(){var e=f.get(arguments);if(e===fo){if(e=t.apply(null,arguments),s){var n=f.getEntries(),r=n.find((function(t){return s(t.value,e)}));r&&(e=r.value)}f.put(arguments,e)}return e}return p.clearCache=function(){return f.clear()},p}function vo(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return"function"==typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function yo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i,a=0,u={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(u=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var s=u,l=s.memoizeOptions,f=void 0===l?n:l,p=Array.isArray(f)?f:[f],d=vo(r),h=t.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(p)),v=t((function(){for(var t=[],e=d.length,n=0;n<e;n++)t.push(d[n].apply(null,arguments));return i=h.apply(null,t)}));return Object.assign(v,{resultFunc:c,memoizedResultFunc:h,dependencies:d,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),v};return o}var bo=yo(ho);function go(t){return 0===Object.keys(t||{}).length}function wo(t){try{return t.reduce((function(t,e){return t+Object.keys(e).length}),0)}catch(t){return 0}}var mo=function(){return mo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},mo.apply(this,arguments)};function _o(t){var e,n=mo(mo({},t),{time:Date.now(),ssVersion:gt}),r=(void 0===e&&(e=0),(function(t,e){void 0===e&&(e=0);for(var n,r,o=function(){for(var t=0,e=new Array(256),n=0;256!=n;++n)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=n)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[n]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),i=-1^e,a=0,u=t.length;a<u;)(n=t.charCodeAt(a++))<128?i=i>>>8^o[255&(i^n)]:n<2048?i=(i=i>>>8^o[255&(i^(192|n>>6&31))])>>>8^o[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&t.charCodeAt(a++),i=(i=(i=(i=i>>>8^o[255&(i^(240|n>>8&7))])>>>8^o[255&(i^(128|n>>2&63))])>>>8^o[255&(i^(128|r>>6&15|(3&n)<<4))])>>>8^o[255&(i^(128|63&r))]):i=(i=(i=i>>>8^o[255&(i^(224|n>>12&15))])>>>8^o[255&(i^(128|n>>6&63))])>>>8^o[255&(i^(128|63&n))];return-1^i}(JSON.stringify(n),e)>>>0).toString(16));return mo(mo({},n),{token:r})}function So(t){return t.onReboot,function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["onReboot"])}function xo(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}function Oo(t,e,n){var r=t.filter((function(t){return xo(t.client,e)})).map((function(t){return t.action}));return"string"==typeof n&&n.length>0&&(r=r.filter((function(t){return t.type===n}))),r}var Eo=function(t){return t.App.state===_r.Ready},jo=function(t){return t.App.clients},ko=function(t){return t.App.config.sendDebugLog},Io=function(t){return t.App.config.manualPageview},Ao=function(t){return t.Context.user},Po=function(t){return t.Context.page},To=function(t){return t.BrowserStorage.crossdomain.status},Co=bo(To,(function(t){return"initializing"!==t})),Do=bo(To,(function(t){return"ready"===t})),Ro=bo((function(t){return t.BrowserStorage.local.status}),(function(t){return"ready"===t})),Lo=bo(Do,Ro,(function(t,e){return t||e})),No=bo(Po,(function(t){return t.BrowserStorage.session.pages}),(function(t){return t.BrowserStorage.history.pages}),(function(t,e,n){return r=[t].concat(e).concat(n).filter(Boolean),yr()(r,(function(t){return t.time})).sort((function(t,e){return e.time-t.time}));var r})),Mo=bo((function(t){return t.BrowserStorage.session.actions}),(function(t){return t.BrowserStorage.history.actions}),(function(t,e){return n=t.concat(e).filter(Boolean),yr()(n,(function(t){return t.action.time})).sort((function(t,e){return e.action.time-t.action.time}));var n})),zo=function(t){return t.BrowserStorage.history.interactions},Fo=function(t){return t.BrowserStorage.session.interactions},Bo=bo(Fo,zo,(function(t,e){return n={},[t,e].forEach((function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var o=r[e],i=o[0],a=o[1];n[i]?n[i]+=a:n[i]=a}})),n;var n})),Uo=bo(Fo,zo,(function(t,e){var n=Object.keys(t),r=Object.keys(e),o=[].concat(n,r).filter(Boolean);return lo()(o)})),Ho=bo((function(t){return t.BrowserStorage.crossdomain.pagesFinished}),(function(t){return t.BrowserStorage.crossdomain.actionsFinished}),(function(t){return t.BrowserStorage.crossdomain.interactionsFinished}),(function(t,e,n){return t&&e&&n})),Vo=bo((function(t){return t.App.state===_r.Starting}),Ro,Po,(function(t,e,n){return t&&e&&!!n})),Jo=g({event:"silversurfer",category:w("silversurfer"),isDebug:function(){for(var t=Object.values(yt),e=0;e<t.length;e++)if(wt(t[e]))return!0;return!1}()});const Go=Jo;var qo=window.requestIdleCallback||function(t){var e=Date.now();return window.setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},Wo=window.cancelIdleCallback||function(t){window.clearTimeout(t)},$o=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Ko=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Xo,Qo,Yo,Zo=!1;function ti(t){return $o(this,void 0,void 0,(function(){var e,n,r;return Ko(this,(function(o){switch(o.label){case 0:return e=t||k(),n=(i=e,function(t){var e;return null===(e=t.BrowserStorage.serviceCache.galactusUserProfile)||void 0===e?void 0:e[i]})(co.getState()),n?[3,2]:[4,ve(t)];case 1:return(r=o.sent())&&(n=Pe()(C,r)),At.debug("getGalactusUserProfile: Profile read from storage",n),[3,3];case 2:At.debug("getGalactusUserProfile: Profile read from cache",n),o.label=3;case 3:return!Zo&&co.getState().App.config.sendGalactusRequest&&(Zo=!0,ur((function(){return function(t){return $o(this,void 0,void 0,(function(){var e,n,r=this;return Ko(this,(function(o){return e=null,n=qo((function(){return $o(r,void 0,void 0,(function(){var r,o,i;return Ko(this,(function(a){switch(a.label){case 0:if(Date.now()-0<6e4)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,De(t)];case 2:return(r=a.sent())&&(null==r?void 0:r.profileId)&&(o=JSON.stringify(r))!==e&&(At.debug("getGalactusUserProfile: Profile updated from Galactus",r),co.dispatch(Kr({beaconId:t,profile:r})),function(t,e){ue(this,void 0,void 0,(function(){var n,r,o,i,a;return ce(this,(function(u){switch(u.label){case 0:return pe()?[4,Kt(t,e)]:[3,2];case 1:return r=u.sent(),[3,3];case 2:r=!1,u.label=3;case 3:return n=r,fe()?[4,J(t,e)]:[3,5];case 4:return i=u.sent(),[3,6];case 5:i=!1,u.label=6;case 6:return o=i,(a=n||o)||At.error("Failed to cache Galactus response",t,e),[2,a]}}))}))}(t,r),e=o),[3,4];case 3:return i=a.sent(),At.error("Fail to fetch data from Galactus",i),Wo(n),[3,4];case 4:return[2]}}))}))})),[2]}))}))}(e)}))),[2,n]}var i}))}))}function ei(){return $o(this,void 0,void 0,(function(){var t,e;return Ko(this,(function(n){switch(n.label){case 0:return t=k(),e=C,t?[3,1]:(Go.loaded({category:"galactus-user-profile-failed-loaded",label:"no-beacon"}),[3,3]);case 1:return[4,ti(t)];case 2:e=n.sent(),Go.loaded({category:"galactus-user-profile-loaded",label:"galactus-user-profile-loaded |  ".concat((null==e?void 0:e.profileId)?"true":"false")}),n.label=3;case 3:return[2,e]}}))}))}function ni(t,e){var n,r,o,i;return lo()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.pform)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.pform)&&void 0!==i?i:[])).filter(Boolean))}function ri(t){var e,n,r;return(null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.devices)||void 0===n?void 0:n.set)&&void 0!==r?r:[]).map((function(t){return{type:oi(t),platform:ii(t),browser:ai(t)}}))}function oi(t){return t.type.toLowerCase().replace("unknown","other")}function ii(t){var e=t.os.toLowerCase(),n=t.make.toLowerCase(),r="other";return e.includes("android")&&(r="android"),n.includes("apple")&&(r="apple"),r}function ai(t){return t.browser.toLowerCase().replace("unknown","other")}function ui(t){var e,n,r,o=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.locations)||void 0===n?void 0:n.set)&&void 0!==r?r:[],i=(Xo||function(){if(!Xo){var t=decodeURIComponent(j("Geo"));try{Xo=JSON.parse(t)||{}}catch(t){Xo={}}}}(),null==Xo?void 0:Xo.country);return lo()([].concat(o.map((function(t){return t.country})),[i]).filter(Boolean).map((function(t){return t.toUpperCase()})))}function ci(t){var e,n,r,o,i,a,u,c,s=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.languages)||void 0===n?void 0:n.contentLanguages)&&void 0!==r?r:[],l=null!==(a=null===(i=null===(o=null==t?void 0:t.namespaces)||void 0===o?void 0:o.languages)||void 0===i?void 0:i.acceptLanguages)&&void 0!==a?a:[],f=[null===(u=Po(co.getState()))||void 0===u?void 0:u.pageLanguage,null===(c=Ao(co.getState()))||void 0===c?void 0:c.lang],p=[window.navigator.language.split("-")[0]],d=No(co.getState());return lo()([].concat(s.map((function(t){return t.languageCode})),l.map((function(t){return t.languageCode})),d.map((function(t){return null==t?void 0:t.pageLanguage})),f,p).filter(Boolean).map((function(t){return t.toLowerCase()})))}function si(t){return 1===t?Yo.FIRST_TIME_VISITOR:t<=5?Yo.RETURNING_VISITOR:Yo.FREQUENT_VISITOR}function li(t){var e=No(co.getState()).length;if(e>0)return si(e);var n=[];return Object.values(t).forEach((function(t){n.push(Math.max.apply(null,Object.values(t)))})),si(Math.max.apply(null,n))}function fi(t){return[li(t)]}function pi(t,e){var n,r,o,i;return lo()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.tv)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.tv)&&void 0!==i?i:[])).filter(Boolean))}function di(t){if("object"!=typeof t)return{};for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var o=r[n],i=o[0],a=o[1];e[i]=a.reduce((function(t,e){return t[e]=1,t}),{})}return e}function hi(t){if(t){var e=t.media,n=t.gnre,r=t.theme;return lo()([].concat(e?Object.keys(e):void 0,n?Object.keys(n):void 0,r?Object.keys(r):void 0).filter(Boolean))}return[]}!function(t){t.WIKI_CONTENT="wiki content",t.FEATURED_VIDEO="featured video",t.DISCUSSIONS="discussions"}(Qo||(Qo={})),function(t){t.FIRST_TIME_VISITOR="1st time visitor",t.RETURNING_VISITOR="returning visitor",t.FREQUENT_VISITOR="frequent visitor"}(Yo||(Yo={})),_e("pathfinder",gt);var vi=Se("pathfinder",gt),yi=(je(vi),vi,ke(vi)),bi=function(){return bi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},bi.apply(this,arguments)},gi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},wi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},mi="active-data-management-service";function _i(t){return gi(this,void 0,void 0,(function(){var e;return wi(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,yi("".concat(mi,"/validate/"),bi({},t))];case 1:return 200===n.sent().status?[2,!0]:[3,3];case 2:return e=n.sent(),At.error("Failed to post active data action",e),[3,3];case 3:return[2,!1]}}))}))}function Si(){return gi(this,void 0,void 0,(function(){var t,e,n;return wi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ce()];case 1:return r.sent(),[3,3];case 2:return r.sent(),At.debug("Consent not given, cannot contact active-data-management-system"),[2,{}];case 3:return r.trys.push([3,7,,8]),[4,Ie("".concat(mi,"/profiles"))];case 4:return 200!==(t=r.sent()).status?[3,6]:[4,t.json()];case 5:return e=r.sent(),At.debug("active-data-management-system API response",e),[2,e];case 6:return[3,8];case 7:return n=r.sent(),At.error("Failed to fetch active-data",n),[3,8];case 8:return[2,{}]}}))}))}var xi=n(1609),Oi=n.n(xi),Ei=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ji=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ki=!1;function Ii(){return Ei(this,void 0,void 0,(function(){var t,e,n;return ji(this,(function(r){switch(r.label){case 0:return o=co.getState(),t=o.BrowserStorage.serviceCache.activeData,Oi()(t)?[3,1]:(n=t,[3,3]);case 1:return[4,he()];case 2:n=r.sent(),r.label=3;case 3:return e=n,At.debug("ActiveData loaded: ",e),ki||(ki=!0,ur((function(){return function(){return Ei(this,void 0,void 0,(function(){var t,e,n=this;return ji(this,(function(r){return t=null,e=qo((function(){return Ei(n,void 0,void 0,(function(){var n,r,o;return ji(this,(function(i){switch(i.label){case 0:if(Date.now()-0<6e5)return[2];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,Si()];case 2:return n=i.sent(),Oi()(n)?(r=JSON.stringify(n))===t?[3,4]:(At.debug("getActiveData: updated from ADMS",n),co.dispatch(Xr({activeData:n})),[4,de(n)]):[3,4];case 3:i.sent(),t=r,i.label=4;case 4:return[3,6];case 5:return o=i.sent(),At.error("Fail to fetch data from active-data-management-system",o),Wo(e),[3,6];case 6:return[2]}}))}))})),[2]}))}))}()}))),[2,e]}var o}))}))}function Ai(){var t,e;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var n,r,o,i;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return[4,ei()];case 1:return n=a.sent(),[4,Ii()];case 2:return r=a.sent(),o=function(t){var e,n,r,o,i,a=null!==(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.adTags)&&void 0!==n?n:{};if(!go(a)){At.debug("getUserProfile: Galactus AdTags are empty, fallback to history");var u=null!==(r=No(co.getState()).map((function(t){return t.adTags})))&&void 0!==r?r:[];o=u.filter(Boolean).map(di),i={},o.forEach((function(t){for(var e,n,r=0,o=Object.entries(t);r<o.length;r++){for(var a=o[r],u=a[0],c=a[1],s=null!==(e=i[u])&&void 0!==e?e:{},l=0,f=Object.entries(c);l<f.length;l++){var p=f[l],d=p[0],h=p[1];s[d]=(null!==(n=s[d])&&void 0!==n?n:0)+h}i[u]=s}})),a=i}return go(a)&&(At.debug("getUserProfile: History is empty, fallback to current page"),a=di(Po(co.getState()).adTags)),a}(n),i={beaconId:k(),gender:Object.keys(null!==(t=null==o?void 0:o.sex)&&void 0!==t?t:{}),affiliation:fi(o),interactions:Uo(co.getState()),ageBrackets:Object.keys(null!==(e=null==o?void 0:o.age)&&void 0!==e?e:{}),devices:ri(n),language:ci(n),country:ui(n),interests:hi(o),consoles:ni(o,n),streaming:pi(o,n),adTags:o,activeData:r},At.debug("getUserProfile: Profile complete",i),[2,i]}}))}))}var Pi=function(){return Pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pi.apply(this,arguments)},Ti={channelId:"default",host:window,coordinatorHost:window.top},Ci={connect:"connect",connected:"connected"},Di="@wikia/post-quecast";function Ri(t){return t.channelId&&t.libId===Di&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function Li(t){return!t.data.private}function Ni(t,e){return t.data.channelId===e}function Mi(t){return t.data.action}var zi=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[Di])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[Di].callbackConnector:new Bi({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),Fi=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!Ri(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(n){return n({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),Bi=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!Ri(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var n;(n=e)&&n.source&&n.data&&Ri(n.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),Ui=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=zi.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(n){if(Ni(n,t.channelId)&&function(t){return!!t.data.private}(n)){var r=Mi(n);(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.type===e}))})(r,Ci.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,r.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(Ni(e,t.channelId)&&Li(e)){var n=Mi(e);t.handleActions(n)}}))},t.prototype.handleActions=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=this.history).push.apply(t,n),n.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:Ci.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:Di})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),Hi=function(){function t(t){void 0===t&&(t={});var e=Pi(Pi({},Ti),t);this.channelId=e.channelId,this.connector=zi.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:Pi(Pi({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:Di})},t}(),Vi=function(){function t(t){void 0===t&&(t={});var e=Pi(Pi({},Ti),t);this.transmitter=new Hi(e),this.receiver=new Ui(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),Ji=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[Di].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:Di})},t.prototype.createConnectedAction=function(){return{type:Ci.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(n){n.dispatch({action:t,channelId:e.channelId,libId:Di})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new Bi({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),Gi=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new Fi(t),this.postMessageConnector=new Bi({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){Li(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.data.action.type===e}))})(t,Ci.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(Ci).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new Ji(t,this.coordinatorHost)),this.channels.get(t)},t}(),qi=function(t,e){return qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},qi(t,e)};function Wi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function $i(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Ki(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xi(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Qi(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function Zi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{!function(t){t.value instanceof Yi?Promise.resolve(t.value.v).then(c,s):l(i[0][2],t)}(o[t](e))}catch(t){l(i[0][3],t)}}function c(t){u("next",t)}function s(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function ta(t){return"function"==typeof t}function ea(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var na=ea((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function ra(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var oa=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Ki(i),u=a.next();!u.done;u=a.next())u.value.remove(this)}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else i.remove(this);var c=this.initialTeardown;if(ta(c))try{c()}catch(t){o=t instanceof na?t.errors:[t]}var s=this._teardowns;if(s){this._teardowns=null;try{for(var l=Ki(s),f=l.next();!f.done;f=l.next()){var p=f.value;try{ua(p)}catch(t){o=null!=o?o:[],t instanceof na?o=Qi(Qi([],Xi(o)),Xi(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new na(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)ua(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&ra(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&ra(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}(),ia=oa.EMPTY;function aa(t){return t instanceof oa||t&&"closed"in t&&ta(t.remove)&&ta(t.add)&&ta(t.unsubscribe)}function ua(t){ta(t)?t():t.unsubscribe()}var ca=null,sa=null,la=void 0,fa=!1,pa=!1,da={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=da.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,Qi([],Xi(t)))},clearTimeout:function(t){var e=da.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ha(t){da.setTimeout((function(){if(!ca)throw t;ca(t)}))}function va(){}var ya=ba("C",void 0,void 0);function ba(t,e,n){return{kind:t,value:e,error:n}}var ga=null;function wa(t){if(fa){var e=!ga;if(e&&(ga={errorThrown:!1,error:null}),t(),e){var n=ga,r=n.errorThrown,o=n.error;if(ga=null,r)throw o}}else t()}function ma(t){fa&&ga&&(ga.errorThrown=!0,ga.error=t)}var _a=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,aa(e)&&e.add(n)):n.destination=ja,n}return Wi(e,t),e.create=function(t,e,n){return new Sa(t,e,n)},e.prototype.next=function(t){this.isStopped?Ea(function(t){return ba("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Ea(ba("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Ea(ya,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(oa),Sa=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(ta(e))o=e;else if(e){var a;o=e.next,n=e.error,r=e.complete,i&&pa?(a=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:a=e,o=null==o?void 0:o.bind(a),n=null==n?void 0:n.bind(a),r=null==r?void 0:r.bind(a)}return i.destination={next:o?xa(o):va,error:xa(null!=n?n:Oa),complete:r?xa(r):va},i}return Wi(e,t),e}(_a);function xa(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,Qi([],Xi(e)))}catch(t){fa?ma(t):ha(t)}}}function Oa(t){throw t}function Ea(t,e){var n=sa;n&&da.setTimeout((function(){return n(t,e)}))}var ja={closed:!0,next:va,error:Oa,complete:va},ka="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ia(t){return t}function Aa(t){return 0===t.length?Ia:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Pa=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof _a||function(t){return t&&ta(t.next)&&ta(t.error)&&ta(t.complete)}(r)&&aa(r)?t:new Sa(t,e,n);return wa((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Ta(e))((function(e,r){var o=new Sa({next:function(e){try{t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:e});n.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[ka]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Aa(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Ta(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Ta(t){var e;return null!==(e=null!=t?t:la)&&void 0!==e?e:Promise}function Ca(t){return function(e){if(function(t){return ta(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Da=function(t){function e(e,n,r,o,i){var a=t.call(this,e)||this;return a.onFinalize=i,a._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return Wi(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(_a),Ra=Array.isArray;function La(t,e,n){return n?La(t,e).pipe(function(t){return e=function(e){return function(t,e){return Ra(e)?t.apply(void 0,Qi([],Xi(e))):t(e)}(t,e)},Ca((function(t,n){var r=0;t.subscribe(new Da(n,(function(t){n.next(e.call(void 0,t,r++))})))}));var e}(n)):new Pa((function(n){var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)},o=t(r);return ta(e)?function(){return e(r,o)}:void 0}))}var Na=ea((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Ma=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Wi(e,t),e.prototype.lift=function(t){var e=new za(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Na},e.prototype.next=function(t){var e=this;wa((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var o=e.observers.slice();try{for(var i=Ki(o),a=i.next();!a.done;a=i.next())a.value.next(t)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;wa((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;wa((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,r=e.isStopped,o=e.observers;return n||r?ia:(o.push(t),new oa((function(){return ra(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new Pa;return t.source=this,t},e.create=function(t,e){return new za(t,e)},e}(Pa),za=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return Wi(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:ia},e}(Ma),Fa={now:function(){return(Fa.delegate||Date).now()},delegate:void 0},Ba=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=Fa);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return Wi(e,t),e.prototype.next=function(e){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,u=n._windowTime;r||(o.push(e),!i&&o.push(a.now()+u)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!t.closed;o+=n?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,r=t._buffer,o=t._infiniteTimeWindow,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),u=0,c=1;c<r.length&&r[c]<=a;c+=2)u=c;u&&r.splice(0,u+1)}},e}(Ma),Ua=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Ha(t){return ta(null==t?void 0:t.then)}function Va(t){return ta(t[ka])}function Ja(t){return Symbol.asyncIterator&&ta(null==t?void 0:t[Symbol.asyncIterator])}function Ga(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var qa="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Wa(t){return ta(null==t?void 0:t[qa])}function $a(t){return Zi(this,arguments,(function(){var e,n,r;return $i(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Yi(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Yi(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Yi(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Ka(t){return ta(null==t?void 0:t.getReader)}function Xa(t){if(t instanceof Pa)return t;if(null!=t){if(Va(t))return o=t,new Pa((function(t){var e=o[ka]();if(ta(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Ua(t))return r=t,new Pa((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(Ha(t))return n=t,new Pa((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ha)}));if(Ja(t))return Qa(t);if(Wa(t))return e=t,new Pa((function(t){var n,r;try{for(var o=Ki(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}));if(Ka(t))return Qa($a(t))}var e,n,r,o;throw Ga(t)}function Qa(t){return new Pa((function(e){(function(t,e){var n,r,o,i;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var a,u;return $i(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=Ki(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}(t),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),o={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}var Ya=new Pa((function(t){return t.complete()}));function Za(t){return t<=0?function(){return Ya}:Ca((function(e,n){var r=0;e.subscribe(new Da(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}function tu(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new Ma}:e,r=t.resetOnError,o=void 0===r||r,i=t.resetOnComplete,a=void 0===i||i,u=t.resetOnRefCountZero,c=void 0===u||u;return function(t){var e=null,r=null,i=null,u=0,s=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=null},p=function(){f(),e=i=null,s=l=!1},d=function(){var t=e;p(),null==t||t.unsubscribe()};return Ca((function(t,h){u++,l||s||f();var v,y=i=null!=i?i:n();h.add((function(){0!=--u||l||s||(r=eu(d,c))})),y.subscribe(h),e||(e=new Sa({next:function(t){return y.next(t)},error:function(t){l=!0,f(),r=eu(p,o,t),y.error(t)},complete:function(){s=!0,f(),r=eu(p,a),y.complete()}}),(v=t,Xa(v)).subscribe(e))}))(t)}}function eu(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===e?(t(),null):!1===e?null:e.apply(void 0,Qi([],Xi(n))).pipe(Za(1)).subscribe((function(){return t()}))}class nu{constructor(){!function(t){if(void 0===t&&(t=window),!t[Di]){var e=new Gi(t);e.init(),t[Di]=e}}(),this.communicator=new Vi,this.actions=La((t=>this.communicator.addListener(t)),(t=>this.communicator.removeListener(t))).pipe(function(t,e,n){var r,o,i,a=!1;return t&&"object"==typeof t?(i=null!==(r=t.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=t.windowTime)&&void 0!==o?o:1/0,a=!!t.refCount,n=t.scheduler):i=null!=t?t:1/0,tu({connector:function(){return new Ba(i,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}({refCount:!0}))}dispatch(t){this.communicator.dispatch({...t,__global:!0})}}function ru(...t){return e=>{return e.pipe((n=e=>t.some((t=>e.type===t)),Ca((function(t,e){var r=0;t.subscribe(new Da(e,(function(t){return n.call(undefined,t,r++)&&e.next(t)})))}))));var n}}function ou(t){"floor_adhesion"!==t.name&&"invisible_high_impact_2"!==t.name||co.dispatch(Nr("collapse"===t.state?"collapsed":"loaded")),"top_boxad"===t.name&&co.dispatch(Br("collapse"===t.state?"collapsed":"loaded")),"hivi_leaderboard"===t.name&&co.dispatch(Fr("collapse"===t.state?"collapsed":"loaded")),"top_leaderboard"===t.name&&co.dispatch(zr("collapse"===t.state?"collapsed":"loaded"))}function iu(t){co.dispatch(Mr(t.isLoaded?"loaded":"collapsed"))}var au=null;function uu(){au||(At.debug("Start listening for Ad events"),(au=new nu).actions.pipe(ru("[AdEngine] Ad Slot loaded")).subscribe(ou),au.actions.pipe(ru("[AdEngine] UAP Load status")).subscribe(iu))}var cu={id:"0",anon:!0};function su(){(function(){var t=gr(wr()),e=function(){if("object"!=typeof(null===window||void 0===window?void 0:window._ulc))return cu;var t=window._ulc;return void 0===(null==t?void 0:t.anon)&&(t.anon=t.id===cu.id),t}();At.debug("Reading context from window",{plc:t,ulc:e}),co.dispatch(Lr(t)),co.dispatch(Rr(e))})(),ur(uu)}function lu(){var t,e=Po(co.getState());return{current:e,pages:No(co.getState()),slots:(t=co.getState(),{uap:t.Context.uapSlot,floorAdhesion:t.Context.floorAdhesionSlot,topBoxad:t.Context.topBoxadSlot,topLeaderboard:t.Context.topLeaderboardSlot,hiviLeaderboard:t.Context.hiviLeaderboardSlot}),user:Ao(co.getState())}}function fu(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return function(t){return!(!t||"string"!=typeof t.name||(null==t?void 0:t.onReboot)&&"function"!=typeof t.onReboot)}(t)?(e=jo(co.getState()),function(t,e){var n;return null!==(n=null==e?void 0:e.findIndex((function(e){return xo(e,t)})))&&void 0!==n?n:-1}(t,e)>-1?(At.debug("registerClient: Already registered client",t),Go({label:"client-registration",action:"already-registered",client:t}),[2,null]):(n=_o(t),co.dispatch(Pr(n)),At.debug("registerClient: Client registered",n),[2,n.token])):(At.debug("registerClient: Invalid client",t),Go({label:"client-registration",action:"invalid",client:t}),[2,null])}))}))}var pu,du=gt;function hu(t,e){return{type:t,timestamp:Date.now(),payload:e,xv:du}}!function(t){t.PageviewRequest="SilverSurfer::Pageview::Request",t.PageviewResponse="SilverSurfer::Pageview::Response",t.AddActionRequest="SilverSurfer::AddAction::Request",t.AddActionResponse="SilverSurfer::AddAction::Response",t.AddInteractionRequest="SilverSurfer::AddInteraction::Request",t.AddInteractionResponse="SilverSurfer::AddInteraction::Response",t.HistorySizeResponse="SilverSurfer::HistorySize::Response",t.HistoryPagesResponse="SilverSurfer::HistoryPages::Response",t.HistoryActionsResponse="SilverSurfer::HistoryActions::Response",t.HistoryInteractionsResponse="SilverSurfer::HistoryInteractions::Response"}(pu||(pu={}));var vu=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},yu=function(){function t(t,e,n,r){this._status=Vr.Off,this._sending=!1,this._queue=[],this._options={},this._onMessageCallback=n,this._origin=t,this._options=r,this._initialize(e)}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype._log=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(null===(e=this._options)||void 0===e?void 0:e.debug)&&console.log.apply(console,vu(["CrossDomainSender::".concat(t)],n,!1))},t.prototype._initialize=function(t){this._log("_initialize"),this._status=Vr.Initializing;var e=document.createElement("iframe");e.style.display="none",e.sandbox="allow-same-origin allow-scripts",e.addEventListener("load",this._onIframeLoad.bind(this)),e.addEventListener("error",this._onIframeLoadError.bind(this)),e.src=t,document.body.appendChild(e),this._iframe=e},t.prototype._onIframeLoadError=function(t){var e;this._log("_onIframeLoadError",t.error),this._status=Vr.Off,"function"==typeof(null===(e=this._options)||void 0===e?void 0:e.onIframeError)&&this._options.onIframeError(t)},t.prototype._onIframeLoad=function(){this._log("_onIframeLoad");var t=new MessageChannel;t.port1.onmessage=this._onMessage.bind(this),this._sendMessage(hu(Hr.Request),[t.port2])},t.prototype._onMessage=function(t){var e;(null==(e=t.data)?void 0:e.xv)===du?(this._log("_onMessage",t),t.data.type===Hr.Response&&(this._status=Vr.Ready),"function"==typeof this._onMessageCallback&&this._onMessageCallback(t.data)):this._log("_onMessage - invalid message",t)},t.prototype._sendMessage=function(t,e){this._log("_sendMessage",t),this._iframe.contentWindow.postMessage(t,this._origin,e)},t.prototype._flushQueue=function(){if("ready"===this._status&&!this._sending){this._sending=!0;for(var t=void 0;void 0!==(t=this._queue.shift());)this._sendMessage(t);this._sending=!1}},t.prototype.send=function(t){this._queue.push(t),this._flushQueue()},t}();const bu=yu;var gu;function wu(){return bt()?"".concat(window.location.protocol,"//").concat(window.location.host):(0,vt.yv)()?"https://www.fandom.com":null}var mu=bt()?500:1e4;function _u(){if(!gu){if(co.getState().App.config.disableCrossdomain)return At.debug("Cross domain connection disabled (on purpose)"),void co.dispatch(Qr({status:Vr.Off,statusErrorMessage:"disabled"}));if(!wu())return At.debug("Cross domain connection disabled"),void co.dispatch(Qr({status:Vr.Off,statusErrorMessage:"incorrect-origin"}));At.debug("Initializing cross domain connection"),gu=new bu(wu(),(t=window.location.search,ko(co.getState())&&(t+="".concat(t.length?"&":"?","cb=").concat(Date.now())),"".concat(wu(),"/silver-surfer.html").concat(t)),Su,{debug:ko(co.getState()),onIframeError:function(t){co.dispatch(Qr({status:Vr.Off,statusErrorMessage:"iframe-error"})),re(t)}}),setTimeout((function(){co.dispatch(Qr({status:Vr.Off,statusErrorMessage:"timeout"})),re("cross-domain-timeout")}),mu)}var t}function Su(t){switch(t.type){case Hr.Response:return co.dispatch(Qr({status:Vr.Ready})),void At.debug("Cross domain connected");case pu.HistorySizeResponse:var e=t.payload;return co.dispatch(eo(e)),void At.debug("Cross domain sent storage size",e);case pu.HistoryInteractionsResponse:var n=t.payload;return co.dispatch(oo(n)),void At.debug("Cross domain sent history interactions",n);case pu.HistoryPagesResponse:var r=t.payload;return co.dispatch(no(r)),void At.debug("Cross domain sent history pages",r);case pu.HistoryActionsResponse:var o=t.payload;return co.dispatch(ro(o)),void At.debug("Cross domain sent history actions",o);case pu.PageviewResponse:return void At.debug("Cross domain pageview ack");case pu.AddActionResponse:return void At.debug("Cross domain action ack");case pu.AddInteractionResponse:return void At.debug("Cross domain interaction ack");default:return void At.error("Unknown message type",t)}}function xu(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){return At.debug("New interaction",t),co.dispatch(to(t)),function(t){gu&&gu.status===Vr.Ready?(At.debug("Sending cross domain interaction",t),gu.send(function(t){return hu(pu.AddInteractionRequest,t)}(t))):re("cross-domain-not-ready-on-interaction")}(t),[2]}))}))}var Ou,Eu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ju=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ku=Te({eventCheck:function(){return Lo(co.getState())},intervalTime:100,maxWaitTime:5e3,onReject:function(){return Mo(co.getState())},onResolve:function(){return Mo(co.getState())}});function Iu(){return Eu(this,void 0,void 0,(function(){var t;return ju(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ku()];case 1:return[2,e.sent()];case 2:return t=e.sent(),Array.isArray(t)?[2,t]:(At.error("Error getting actions",t),[3,3]);case 3:return[2,[]]}}))}))}function Au(t){var e=function(t){return bo(jo,(function(e){return e.find((function(e){return e.token===t}))}))}(t)(co.getState());if(!e)throw new Error("Incorrect token");return e}function Pu(t,e){return Eu(this,void 0,void 0,(function(){var n,r;return ju(this,(function(o){switch(o.label){case 0:return n=Au(t),r=Oo,[4,Iu()];case 1:return[2,r.apply(void 0,[o.sent(),n,e])]}}))}))}function Tu(t){return Eu(this,void 0,void 0,(function(){return ju(this,(function(e){switch(e.label){case 0:return bt()||Au(t),[4,Iu()];case 1:return[2,e.sent()]}}))}))}function Cu(t,e,n,r){return Eu(this,void 0,void 0,(function(){var o,i;return ju(this,(function(a){return o=Au(t),i=function(t,e,n,r){return{client:So(t),action:{time:Date.now(),name:e,type:n,payload:r}}}(o,e,n,r),At.debug("New action",i),co.dispatch(Zr(i)),function(t){gu&&gu.status===Vr.Ready?(At.debug("Sending cross domain action",t),gu.send(function(t){return hu(pu.AddActionRequest,t)}(t))):re("cross-domain-not-ready-on-action")}(i),[2]}))}))}!function(t){t.ADD="add",t.CLICK="click",t.CLOSE="close",t.CONFIRM="confirm",t.CREATE="create",t.DISABLE="disable",t.ENABLE="enable",t.ERROR="error",t.HOVER="hover",t.IMPRESSION="impression",t.KEYPRESS="keypress",t.NO_IMPRESSION="no-impression",t.OPEN="open",t.PLAY_VIDEO="play-video",t.QUIZ="quiz",t.REACTION="reaction",t.REMOVE="remove",t.SELECT="select",t.SHARE="share",t.SUBMIT="submit",t.SUCCESS="success",t.SWIPE="swipe",t.VIEW="view",t.REACTION_COUNT="reaction-count",t.HEALTH="health"}(Ou||(Ou={}));var Du=function(t,e,n){var r=function(t,e){this.config=t,this.onError=e,t.enabled&&this.watch()};r.prototype={watch:function(){d.forEach(["EventTarget","Node","XMLHttpRequest"],(function(e){d.has(t,e+".prototype.addEventListener")&&d.hasOwn(t[e].prototype,"addEventListener")&&this.wrapEventTarget(t[e].prototype)}),this),this.wrapTimer("setTimeout"),this.wrapTimer("setInterval")},wrap:function(t){function e(){try{return t.apply(this,arguments)}catch(t){throw o.onError("catch",t,{bindTime:n,bindStack:r}),d.wrapError(t)}}var n,r,o=this;try{if(!d.isFunction(t)||d.hasOwn(t,"__trackjs__"))return t;if(d.hasOwn(t,"__trackjs_state__"))return t.__trackjs_state__}catch(e){return t}if(o.config.bindStack)try{throw Error()}catch(t){r=t.stack,n=d.isoNow()}for(var i in t)d.hasOwn(t,i)&&(e[i]=t[i]);return e.prototype=t.prototype,e.__trackjs__=!0,t.__trackjs_state__=e},wrapEventTarget:function(t){var e=this;d.has(t,"addEventListener.call")&&d.has(t,"removeEventListener.call")&&(d.patch(t,"addEventListener",(function(t){return function(n,r,o,i){try{d.has(r,"handleEvent")&&(r.handleEvent=e.wrap(r.handleEvent))}catch(t){}return t.call(this,n,e.wrap(r),o,i)}})),d.patch(t,"removeEventListener",(function(t){return function(e,n,r,o){try{n=n&&(n.__trackjs_state__||n)}catch(t){}return t.call(this,e,n,r,o)}})))},wrapTimer:function(e){var n=this;d.patch(t,e,(function(t){return function(e,r){var o=Array.prototype.slice.call(arguments),i=o[0];return d.isFunction(i)&&(o[0]=n.wrap(i)),d.has(t,"apply")?t.apply(this,o):t(o[0],o[1])}}))}};var o=function(t){this.initCurrent(t)||console.warn("[TrackJS] invalid config")};o.prototype={current:{},initOnly:{application:!0,cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},navigation:{enabled:!0},network:{enabled:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},defaults:{application:"",cookie:!1,dedupe:!0,dependencies:!0,enabled:!0,forwardingDomain:"",errorURL:"https://capture.trackjs.com/capture",errorNoSSLURL:"http://capture.trackjs.com/capture",faultURL:"https://usage.trackjs.com/fault.gif",usageURL:"https://usage.trackjs.com/usage.gif",onError:function(){return!0},serialize:function(t){function e(t){var e="<"+t.tagName.toLowerCase();t=t.attributes||[];for(var n=0;n<t.length;n++)e+=" "+t[n].name+'="'+t[n].value+'"';return e+">"}if(""===t)return"Empty String";if(t===n)return"undefined";if(d.isString(t)||d.isNumber(t)||d.isBoolean(t)||d.isFunction(t))return""+t;if(d.isElement(t))return e(t);if("symbol"==typeof t)return Symbol.prototype.toString.call(t);var r;try{r=JSON.stringify(t,(function(t,r){return r===n?"undefined":d.isNumber(r)&&isNaN(r)?"NaN":d.isError(r)?{name:r.name,message:r.message,stack:r.stack}:d.isElement(r)?e(r):r}))}catch(e){for(var o in r="",t)if(t.hasOwnProperty(o))try{r+=',"'+o+'":"'+t[o]+'"'}catch(t){}r=r?"{"+r.replace(",","")+"}":"Unserializable Object"}return r.replace(/"undefined"/g,"undefined").replace(/"NaN"/g,"NaN")},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,warn:!1,watch:["log","debug","info","warn","error"]},navigation:{enabled:!0},network:{enabled:!0,error:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},initCurrent:function(t){return this.removeEmpty(t),this.validate(t,this.defaults,"[TrackJS] config",{})?(this.current=d.defaultsDeep({},t,this.defaults),!0):(this.current=d.defaultsDeep({},this.defaults),!1)},setCurrent:function(t){return!!this.validate(t,this.defaults,"[TrackJS] config",this.initOnly)&&(this.current=d.defaultsDeep({},t,this.current),!0)},removeEmpty:function(t){for(var e in t)t.hasOwnProperty(e)&&t[e]===n&&delete t[e]},validate:function(t,e,n,r){var o=!0;for(var i in n=n||"",r=r||{},t)if(t.hasOwnProperty(i))if(e.hasOwnProperty(i)){var a=typeof e[i];a!==typeof t[i]?(console.warn(n+"."+i+": property must be type "+a+"."),o=!1):"[object Array]"!==Object.prototype.toString.call(t[i])||this.validateArray(t[i],e[i],n+"."+i)?"[object Object]"===Object.prototype.toString.call(t[i])?o=this.validate(t[i],e[i],n+"."+i,r[i]):r.hasOwnProperty(i)&&(console.warn(n+"."+i+": property cannot be set after load."),o=!1):o=!1}else console.warn(n+"."+i+": property not supported."),o=!1;return o},validateArray:function(t,e,n){var r=!0;n=n||"";for(var o=0;o<t.length;o++)d.contains(e,t[o])||(console.warn(n+"["+o+"]: invalid value: "+t[o]+"."),r=!1);return r}};var i=function(t,e,n,r,o,i,a){this.util=t,this.log=e,this.onError=n,this.onFault=r,this.serialize=o,a.enabled&&(i.console=this.wrapConsoleObject(i.console,a))};i.prototype={wrapConsoleObject:function(t,e){var n,r=(t=t||{}).log||function(){},o=this;for(n=0;n<e.watch.length;n++)!function(n){var i=t[n]||r;t[n]=function(){try{var r=Array.prototype.slice.call(arguments);if(o.log.add("c",{timestamp:o.util.isoNow(),severity:n,message:o.serialize(1===r.length?r[0]:r)}),e[n])if(d.isError(r[0])&&1===r.length)o.onError("console",r[0]);else try{throw Error(o.serialize(1===r.length?r[0]:r))}catch(t){o.onError("console",t)}e.display&&(o.util.hasFunction(i,"apply")?i.apply(t,r):i(r[0]))}catch(t){o.onFault(t)}}}(e.watch[n]);return t},report:function(){return this.log.all("c")}};var a=function(t,e,n,r,o){this.config=t,this.util=e,this.log=n,this.window=r,this.document=o,this.correlationId=this.token=null,this.initialize()};a.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var t=this.document.getElementsByTagName("script");return t[t.length-1].getAttribute("data-token")},getCorrelationId:function(){var t;if(!this.config.current.cookie)return this.util.uuid();try{(t=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"))||(t=this.util.uuid(),this.document.cookie="TrackJS="+t+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(e){t=this.util.uuid()}return t},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var u=function(t){this.config=t,this.loadedOn=(new Date).getTime(),this.originalUrl=d.getLocation(),this.referrer=d.isBrowser?e.referrer:""};u.prototype={discoverDependencies:function(){var e={TrackJS:"3.10.1"};for(var n in t.jQuery&&t.jQuery.fn&&t.jQuery.fn.jquery&&(e.jQuery=t.jQuery.fn.jquery),t.jQuery&&t.jQuery.ui&&t.jQuery.ui.version&&(e.jQueryUI=t.jQuery.ui.version),t.angular&&t.angular.version&&t.angular.version.full&&(e.angular=t.angular.version.full),t)if("_trackJs"!==n&&"_trackJS"!==n&&"_trackjs"!==n&&"webkitStorageInfo"!==n&&"webkitIndexedDB"!==n&&"top"!==n&&"parent"!==n&&"frameElement"!==n)try{if(t[n]){var r=t[n].version||t[n].Version||t[n].VERSION;"string"==typeof r&&(e[n]=r)}}catch(t){}return e.TrackJS&&e.trackJs&&delete e.trackJs,e},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.config.current.dependencies?this.discoverDependencies():{trackJs:"3.10.1"},originalUrl:this.originalUrl,referrer:this.referrer,userAgent:t.navigator.userAgent,viewportHeight:d.isBrowser?t.document.documentElement.clientHeight:0,viewportWidth:d.isBrowser?t.document.documentElement.clientWidth:0}}};var c=function(t){this.util=t,this.appender=[],this.maxLength=30};c.prototype={all:function(t){var e,n,r=[];for(n=0;n<this.appender.length;n++)(e=this.appender[n])&&e.category===t&&r.push(e.value);return r},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(t,e){var n=this.util.uuid();return this.appender.push({key:n,category:t,value:e}),this.truncate(),n},get:function(t,e){var n,r;for(r=0;r<this.appender.length;r++)if((n=this.appender[r]).category===t&&n.key===e)return n.value;return!1}};var s=function(t){var e={};return{addMetadata:function(t,n){e[t]=n},removeMetadata:function(t){delete e[t]},report:function(){var n,r=[];for(n in e)e.hasOwnProperty(n)&&r.push({key:n,value:t(e[n])});return r},store:e}},l=function(t,e){this.log=t,this.options=e,e.enabled&&this.watch()};l.prototype={isCompatible:function(e){return e=e||t,!d.has(e,"chrome.app.runtime")&&d.has(e,"addEventListener")&&d.has(e,"history.pushState")},record:function(t,e,n){this.log.add("h",{type:t,from:d.truncate(e,250),to:d.truncate(n,250),on:d.isoNow()})},report:function(){return this.log.all("h")},watch:function(){if(this.isCompatible()){var e=this,n=d.getLocationURL().relative;t.addEventListener("popstate",(function(){var t=d.getLocationURL().relative;e.record("popState",n,t),n=t}),!0),d.forEach(["pushState","replaceState"],(function(t){d.patch(history,t,(function(r){return function(){n=d.getLocationURL().relative;var o=r.apply(this,arguments),i=d.getLocationURL().relative;return e.record(t,n,i),n=i,o}}))}))}}};var f=function(t,e,n,r,o,i){this.util=t,this.log=e,this.onError=n,this.onFault=r,this.window=o,this.options=i,i.enabled&&this.initialize(o)};f.prototype={initialize:function(t){t.XMLHttpRequest&&this.util.hasFunction(t.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XMLHttpRequest),t.XDomainRequest&&this.util.hasFunction(t.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XDomainRequest),this.options.fetch&&d.isWrappableFunction(t.fetch)&&this.watchFetch()},escapeUrl:function(t){return(""+t).replace(/ /gi,"%20").replace(/\t/gi,"%09")},watchFetch:function(){var e=this,n=this.log,r=this.options,o=this.onError;d.patch(t,"fetch",(function(i){return function(a,u){if(u&&u.__trackjs__)return i.apply(t,arguments);var c;try{throw Error()}catch(t){c=t.stack}var s=a instanceof Request?a.url:a,l=a instanceof Request?a.method:(u||{}).method||"GET",f=(s=e.escapeUrl(s),i.apply(t,arguments));return f.__trackjs_state__=n.add("n",{type:"fetch",startedOn:d.isoNow(),method:l,url:d.truncate(s,2e3)}),f.then((function(t){var e=n.get("n",f.__trackjs_state__);if(e){d.defaults(e,{completedOn:d.isoNow(),statusCode:t.status,statusText:t.statusText});var i=t.headers.get("trackjs-correlation-id");i&&(e.requestCorrelationId=i),r.error&&400<=t.status&&((e=Error(e.statusCode+" : "+e.method+" "+e.url)).stack=c,o("ajax",e))}return t})).catch((function(t){t=t||{};var e=n.get("n",f.__trackjs_state__);throw e&&(d.defaults(e,{completedOn:d.isoNow(),statusCode:0,statusText:t.toString()}),r.error&&(o("ajax",{name:t.name,message:(t.message||"Failed")+": "+e.method+" "+e.url,stack:t.stack||c}),t.__trackjs_state__=!0)),t}))}}))},watchNetworkObject:function(t){var e=this,n=t.prototype.open,r=t.prototype.send;return t.prototype.open=function(t,r){var o=(r||"").toString();return 0>o.indexOf("localhost:0")&&(o=e.escapeUrl(o),this._trackJs={method:t,url:o}),n.apply(this,arguments)},t.prototype.send=function(){if(!this._trackJs)try{return r.apply(this,arguments)}catch(t){return void e.onError("ajax",t)}try{this._trackJs.logId=e.log.add("n",{type:"xhr",startedOn:e.util.isoNow(),method:this._trackJs.method,url:d.truncate(this._trackJs.url,2e3)}),e.listenForNetworkComplete(this)}catch(t){e.onFault(t)}return r.apply(this,arguments)},t},listenForNetworkComplete:function(t){var e=this;e.window.ProgressEvent&&t.addEventListener&&t.addEventListener("readystatechange",(function(){4===t.readyState&&e.finalizeNetworkEvent(t)}),!0),t.addEventListener?t.addEventListener("load",(function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t)}),!0):setTimeout((function(){try{var n=t.onload;t.onload=function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t),"function"==typeof n&&e.util.hasFunction(n,"apply")&&n.apply(t,arguments)};var r=t.onerror;t.onerror=function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t),"function"==typeof oldOnError&&r.apply(t,arguments)}}catch(t){e.onFault(t)}}),0)},finalizeNetworkEvent:function(t){if(t._trackJs){var e=this.log.get("n",t._trackJs.logId);e&&(e.completedOn=this.util.isoNow(),t.getAllResponseHeaders&&t.getResponseHeader&&0<=(t.getAllResponseHeaders()||"").toLowerCase().indexOf("trackjs-correlation-id")&&(e.requestCorrelationId=t.getResponseHeader("trackjs-correlation-id")),e.statusCode=1223==t.status?204:t.status,e.statusText=1223==t.status?"No Content":t.statusText)}},checkNetworkFault:function(t){if(this.options.error&&400<=t.status&&1223!=t.status){var e=t._trackJs||{};this.onError("ajax",t.status+" : "+e.method+" "+e.url)}},report:function(){return this.log.all("n")}};var p=function(e,n){this.util=e,this.config=n,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()},t.JSON&&t.JSON.stringify||(this.disabled=!0)};p.prototype={errorEndpoint:function(e){var n=this.config.current,r=n.errorURL;return d.isBrowser&&!d.testCrossdomainXhr()&&-1===t.location.protocol.indexOf("https")?r=n.errorNoSSLURL:n.forwardingDomain&&(r="https://"+n.forwardingDomain+"/capture"),r+"?token="+e+"&v=3.10.1"},usageEndpoint:function(t){var e=this.config.current,n=e.usageURL;return e.forwardingDomain&&(n="https://"+e.forwardingDomain+"/usage.gif"),this.appendObjectAsQuery(t,n)},trackerFaultEndpoint:function(t){var e=(this.config||{}).current||o.prototype.defaults,n=e.faultURL;return e.forwardingDomain&&(n="https://"+e.forwardingDomain+"/fault.gif"),this.appendObjectAsQuery(t,n)},appendObjectAsQuery:function(t,e){for(var n in e+="?",t)t.hasOwnProperty(n)&&(e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&");return e},getCORSRequest:function(e,n){var r;return this.util.testCrossdomainXhr()?((r=new t.XMLHttpRequest).open(e,n),r.setRequestHeader("Content-Type","text/plain")):void 0!==t.XDomainRequest?(r=new t.XDomainRequest).open(e,n):r=null,r},sendTrackerFault:function(t){this.throttle(t)||(d.isBrowser?e.createElement("img").src=this.trackerFaultEndpoint(t):fetch(this.trackerFaultEndpoint(t),{mode:"no-cors",__trackjs__:!0}))},sendUsage:function(t){d.isBrowser?e.createElement("img").src=this.usageEndpoint(t):fetch(this.usageEndpoint(t),{mode:"no-cors",__trackjs__:!0})},sendError:function(e,r){var o=this;if(!this.disabled&&!this.throttle(e))try{if(d.isBrowser){var i=this.getCORSRequest("POST",this.errorEndpoint(r));i.onreadystatechange=function(){4!==i.readyState||d.contains([200,202],i.status)||(o.disabled=!0)},i._trackJs=n,i.send(t.JSON.stringify(e))}else if(d.isWorker){var a={method:"POST",mode:"cors",body:t.JSON.stringify(e),__trackjs__:1};fetch(this.errorEndpoint(r),a).then((function(t){t.ok||(o.disabled=!0)})).catch((function(t){o.disabled=!0}))}}catch(t){throw this.disabled=!0,t}},throttle:function(t){var e=(new Date).getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=e){if(this.throttleStats.lastAttempt=e,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else t.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=e,this.throttleStats.throttledCount=0;return!1}};var d=function(){function r(t,e,i,a){return i=i||!1,a=a||0,d.forEach(e,(function(e){d.forEach(d.keys(e),(function(u){null===e[u]||e[u]===n?t[u]=e[u]:i&&10>a&&"[object Object]"===o(e[u])?(t[u]=t[u]||{},r(t[u],[e[u]],i,a+1)):t.hasOwnProperty(u)||(t[u]=e[u])}))})),t}function o(t){return Object.prototype.toString.call(t)}return{isBrowser:void 0!==t&&void 0!==t.document,isWorker:"object"==typeof self&&self.constructor&&0<=(self.constructor.name||"").indexOf("WorkerGlobalScope"),isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,addEventListenerSafe:function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n)},afterDocumentLoad:function(t){if(d.isWorker)d.defer(t);else{var n=!1;"complete"===e.readyState?d.defer(t):(d.addEventListenerSafe(e,"readystatechange",(function(){"complete"!==e.readyState||n||(d.defer(t),n=!0)})),setTimeout((function(){n||(d.defer(t),n=!0)}),1e4))}},bind:function(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}},contains:function(t,e){return 0<=t.indexOf(e)},defaults:function(t){return r(t,Array.prototype.slice.call(arguments,1),!1)},defaultsDeep:function(t){return r(t,Array.prototype.slice.call(arguments,1),!0)},defer:function(t,e){setTimeout((function(){t.apply(e)}))},forEach:function(t,e,n){if(d.isArray(t)){if(t.forEach)return t.forEach(e,n);for(var r=0;r<t.length;)e.call(n,t[r],r,t),r++}},getLocation:function(){return t.location.toString().replace(/ /g,"%20")},getLocationURL:function(){return d.parseURL(d.getLocation())},has:function(t,e){try{for(var n=e.split("."),r=t,o=0;o<n.length;o++){if(!r[n[o]])return!1;r=r[n[o]]}return!0}catch(t){return!1}},hasFunction:function(t,e){try{return!!t[e]}catch(t){return!1}},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},isArray:function(t){return"[object Array]"===o(t)},isBoolean:function(t){return"boolean"==typeof t||d.isObject(t)&&"[object Boolean]"===o(t)},isBrowserIE:function(e){var n=(e=e||t.navigator.userAgent).match(/Trident\/([\d.]+)/);return n&&"7.0"===n[1]?11:!!(e=e.match(/MSIE ([\d.]+)/))&&parseInt(e[1],10)},isBrowserSupported:function(){var t=this.isBrowserIE();return!t||8<=t},isError:function(t){if(!d.isObject(t))return!1;var e=o(t);return"[object Error]"===e||"[object DOMException]"===e||d.isString(t.name)&&d.isString(t.message)},isElement:function(t){return d.isObject(t)&&1===t.nodeType},isFunction:function(t){return!(!t||"function"!=typeof t)},isNumber:function(t){return"number"==typeof t||d.isObject(t)&&"[object Number]"===o(t)},isObject:function(t){return!(!t||"object"!=typeof t)},isString:function(t){return"string"==typeof t||!d.isArray(t)&&d.isObject(t)&&"[object String]"===o(t)},isWrappableFunction:function(t){return this.isFunction(t)&&this.hasFunction(t,"apply")},isoNow:function(){var t=new Date;return t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+this.pad(t.getUTCMonth()+1)+"-"+this.pad(t.getUTCDate())+"T"+this.pad(t.getUTCHours())+":"+this.pad(t.getUTCMinutes())+":"+this.pad(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},keys:function(t){if(!d.isObject(t))return[];var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n},noop:function(){},pad:function(t){return 1===(t=String(t)).length&&(t="0"+t),t},parseURL:function(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?((e={protocol:e[2],host:e[4],path:e[5],query:e[6],hash:e[8]}).origin=(e.protocol||"")+"://"+(e.host||""),e.relative=(e.path||"")+(e.query||"")+(e.hash||""),e.href=t,e):{}},patch:function(t,e,n){t[e]=n(t[e]||d.noop)},testCrossdomainXhr:function(){return d.isBrowser&&"withCredentials"in new XMLHttpRequest},truncate:function(t,e){if((t=""+t).length<=e)return t;var n=t.length-e;return t.substr(0,e)+"...{"+n+"}"},tryGet:function(t,e){try{return t[e]}catch(t){}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},wrapError:function(t){var e=t||Object.prototype.toString.call(t);if(e&&e.innerError)return t;var n=Error("TrackJS Caught: "+(e.message||e));return n.description="TrackJS Caught: "+e.description,n.file=e.file,n.line=e.line||e.lineNumber,n.column=e.column||e.columnNumber,n.stack=e.stack,n.innerError=t,n}}}(),h=function(t,e,n,r,o,i){this.util=t,this.log=e,this.onError=n,this.onFault=r,this.options=i,this.document=o,t.isBrowser&&i.enabled&&this.initialize(o)};h.prototype={initialize:function(t){var e=this.util.bind(this.onDocumentClicked,this),n=this.util.bind(this.onInputChanged,this);t.addEventListener?(t.addEventListener("click",e,!0),t.addEventListener("blur",n,!0)):t.attachEvent&&(t.attachEvent("onclick",e),t.attachEvent("onfocusout",n))},onDocumentClicked:function(t){try{var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isDescribedElement(e,"a")||this.isDescribedElement(e,"button")||this.isDescribedElement(e,"input",["button","submit"])?this.writeVisitorEvent(e,"click"):this.isDescribedElement(e,"input",["checkbox","radio"])&&this.writeVisitorEvent(e,"input",e.value,e.checked))}catch(t){this.onFault(t)}},onInputChanged:function(t){try{var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isDescribedElement(e,"textarea")?this.writeVisitorEvent(e,"input",e.value):this.isDescribedElement(e,"select")&&e.options&&e.options.length?this.onSelectInputChanged(e):this.isDescribedElement(e,"input")&&!this.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(e,"input",e.value))}catch(t){this.onFault(t)}},onSelectInputChanged:function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.writeVisitorEvent(t,"input",t.options[e].value);else 0<=t.selectedIndex&&t.options[t.selectedIndex]&&this.writeVisitorEvent(t,"input",t.options[t.selectedIndex].value)},writeVisitorEvent:function(t,e,r,o){"password"===this.getElementType(t)&&(r=n);var i=this.getElementAttributes(t);t.innerText&&(i.__trackjs_element_text=this.util.truncate(t.innerText,500)),this.log.add("v",{timestamp:this.util.isoNow(),action:e,element:{tag:t.tagName.toLowerCase(),attributes:i,value:this.getMetaValue(r,o)}})},getElementFromEvent:function(t){return t.target||e.elementFromPoint(t.clientX,t.clientY)},isDescribedElement:function(t,e,n){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!n)return!0;for(t=this.getElementType(t),e=0;e<n.length;e++)if(n[e]===t)return!0;return!1},getElementType:function(t){return(t.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(t){for(var e={},n=Math.min(t.attributes.length,10),r=0;r<n;r++){var o=t.attributes[r];d.contains(["data-value","value"],o.name.toLowerCase())||(e[o.name]=d.truncate(o.value,100))}return e},getMetaValue:function(t,e){return t===n?n:{length:t.length,pattern:this.matchInputPattern(t),checked:e}},matchInputPattern:function(t){return""===t?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(t)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(t)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(t)?"usphone":/^\s*$/.test(t)?"whitespace":/^\d*$/.test(t)?"numeric":/^[a-zA-Z]*$/.test(t)?"alpha":/^[a-zA-Z0-9]*$/.test(t)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var v=function(t,e,n,r,o){this.onError=t,this.onFault=e,this.serialize=n,o.enabled&&this.watchWindowErrors(r),o.promise&&this.watchPromiseErrors(r)};v.prototype={watchPromiseErrors:function(t){var e=this;t.addEventListener?t.addEventListener("unhandledrejection",(function(t){try{var r=(t=t||{}).detail?d.tryGet(t.detail,"reason"):d.tryGet(t,"reason");if(r!==n&&null!==r&&!r.__trackjs_state__){if(!d.isError(r))try{throw Error(e.serialize(r))}catch(t){r=t}e.onError("promise",r)}}catch(t){e.onFault(t)}})):d.patch(t,"onunhandledrejection",(function(t){return function(n){e.onError("promise",n),t.apply(this,arguments)}}))},watchWindowErrors:function(t){var e=this;d.patch(t,"onerror",(function(t){return function(n,r,o,i,a){try{if(d.isError(a))return e.onError("window",a),void t.apply(this,arguments);var u={message:(a=a||{}).message||e.serialize(n),name:a.name||"Error",line:a.line||parseInt(o,10)||null,column:a.column||parseInt(i,10)||null,stack:a.stack||null};"[object Event]"!==Object.prototype.toString.call(n)||r?u.file=a.file||e.serialize(r):u.file=(n.target||{}).src,e.onError("window",u)}catch(t){e.onFault(t)}t.apply(this,arguments)}}))}};var y=function(){this.hasInstalled=!1,this.hasEnabled=!0,this.window=t,this.document=e,this.util=d,this.install=d.bind(this.install,this),this.onError=d.bind(this.onError,this),this.onFault=d.bind(this.onFault,this),this.serialize=d.bind(this.serialize,this),this.log=new c(d),this.metadata=new s(this.serialize);var n=t&&(t._trackJs||t._trackJS||t._trackjs);n&&this.install(n)};return y.prototype={install:function(t){try{if(d.isNode)return this.warn("monitoring disabled in node"),!1;if(!d.has(t,"token"))return this.warn("missing token"),!1;if(this.hasInstalled)return this.warn("already installed"),!1;if(this.config=new o(t),this.transmitter=new p(this.util,this.config),this.environment=new u(this.config),this.customer=new a(this.config,this.util,this.log,this.window,this.document),!this.config.current.enabled)return this.hasEnabled=!1;if(this.windowConsoleWatcher=new i(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),!this.util.isBrowserSupported())return!1;this.callbackWatcher=new r(this.config.current.callback,this.onError,this.onFault),this.visitorWatcher=new h(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.navigationWatcher=new l(this.log,this.config.current.navigation),this.networkWatcher=new f(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new v(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var e=this;return d.afterDocumentLoad((function(){e.transmitter.sendUsage({token:e.customer.token,correlationId:e.customer.correlationId,application:e.config.current.application,x:e.util.uuid()})})),this.hasInstalled=!0}catch(t){return this.onFault(t),!1}},pub:function(){var t=this,e={addMetadata:this.metadata.addMetadata,attempt:function(e,n){try{var r=Array.prototype.slice.call(arguments,2);return e.apply(n||this,r)}catch(e){throw t.onError("catch",e),d.wrapError(e)}},configure:function(e){return!t.hasInstalled&&t.hasEnabled?(t.warn("agent must be installed"),!1):t.config.setCurrent(e)},hash:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",isInstalled:function(){return t.hasInstalled},install:this.install,removeMetadata:this.metadata.removeMetadata,track:function(e){if(!t.hasInstalled&&t.hasEnabled)t.warn("agent must be installed");else{var n=d.isError(e)?e.message:t.serialize(e);if(!(e=e||{}).stack)try{throw Error(n)}catch(t){e=t}t.onError("direct",e)}},version:"3.10.1",watch:function(e,n){return function(){try{var r=Array.prototype.slice.call(arguments,0);return e.apply(n||this,r)}catch(e){throw t.onError("catch",e),d.wrapError(e)}}},watchAll:function(t){var e,n=Array.prototype.slice.call(arguments,1);for(e in t)"function"!=typeof t[e]||d.contains(n,e)||(t[e]=this.watch(t[e],t));return t}};return new i(d,t.log,t.onError,t.onFault,t.serialize,e,o.prototype.defaults.console),e},onError:function(){var e,n=!1;return function(r,o,i){if(this.hasInstalled&&this.hasEnabled&&d.isBrowserSupported())try{if(i=i||{bindStack:null,bindTime:null,force:!1},o&&d.isError(o)||(o={name:"Error",message:this.serialize(o,i.force)}),-1===o.message.indexOf("TrackJS Caught"))if(n&&-1!==o.message.indexOf("Script error"))n=!1;else{var a=d.defaultsDeep({},{agentPlatform:d.isBrowser?"browser":"worker",bindStack:i.bindStack,bindTime:i.bindTime,column:o.column||o.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:r,environment:this.environment.report(),file:o.file||o.fileName,line:o.line||o.lineNumber,message:o.message,metadata:this.metadata.report(),nav:this.navigationWatcher.report(),network:this.networkWatcher.report(),url:(t.location||"").toString(),stack:o.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"3.10.1"});if(!i.force)try{if(!this.config.current.onError(a,o))return}catch(t){a.console.push({timestamp:this.util.isoNow(),severity:"error",message:t.message});var u=this;setTimeout((function(){u.onError("catch",t,{force:!0})}),0)}if(this.config.current.dedupe){var c=(a.message+a.stack).substr(0,1e4);if(c===e)return;e=c}!function(){function t(){var t=0;return d.forEach(a.console,(function(e){t+=(e.message||"").length})),8e4<=t}for(var e=0;t()&&e<a.console.length;)a.console[e].message=d.truncate(a.console[e].message,1e3),e++}(),this.log.clear(),setTimeout((function(){n=!1})),n=!0,this.transmitter.sendError(a,this.customer.token)}}catch(t){this.onFault(t)}}}(),onFault:function(t){var e=this.transmitter||new p;t=t||{},t={token:(this.customer||{}).token,file:t.file||t.fileName,msg:t.message||"unknown",stack:(t.stack||"unknown").substr(0,1e3),url:this.window.location,v:"3.10.1",h:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",x:this.util.uuid()},e.sendTrackerFault(t)},serialize:function(t,e){if(this.hasInstalled&&this.config.current.serialize&&!e)try{return this.config.current.serialize(t)}catch(t){this.onError("catch",t,{force:!0})}return o.prototype.defaults.serialize(t)},warn:function(e){d.has(t,"console.warn")&&t.console.warn("TrackJS: "+e)}},(new y).pub()}("undefined"==typeof self?void 0:self,"undefined"==typeof document?void 0:document),Ru=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Lu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Nu(){return Ru(this,void 0,void 0,(function(){var t;return Lu(this,(function(e){return t=Po(co.getState()),n=qr(t),gu&&gu.status===Vr.Ready?(At.debug("Tracking cross domain page",n),gu.send((r=n,hu(pu.PageviewRequest,r)))):re("cross-domain-not-ready-on-pageview"),[2];var n,r}))}))}function Mu(){return Ru(this,void 0,void 0,(function(){var t,e;return Lu(this,(function(n){return t=Po(co.getState()),e=qr(t),At.debug("Tracking local page",e),co.dispatch(Yr(e)),[2]}))}))}var zu=n(8446),Fu=n.n(zu);function Bu(t,e,n){var r;function o(){var o=e(t.getState());Fu()(o,r)||n(r=o)}var i=t.subscribe(o);return o(),i}function Uu(){return document.cookie.includes("ss_galactus_enabled")}var Hu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Vu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Ju=null;function Gu(){return Hu(this,void 0,void 0,(function(){var t,e;return Vu(this,(function(n){var r;return r=co.getState(),t=r.App.state===_r.Delayed,e=Eo(co.getState()),t||e?function(t,e){return t&&e&&t.p===e.p&&t.pId===e.pId&&t.pg===e.pg&&t.pgId===e.pgId}(wr(),Ju)?(At.debug("Page context did not change, skipping pageview"),[2,!1]):(At.debug("Firing manual pageview"),su(),Mu().catch(At.error),e&&(Do(co.getState())&&Nu().catch(At.error),co.dispatch(Ar.reboot())),t&&co.dispatch(Ar.starting()),Ju=wr(),[2,!0]):(At.error("trackPageview cannot be triggered until SilverSurfer is bootstrapped"),[2,!1])}))}))}var qu,Wu,$u={trackPageview:Gu,getContext:lu,registerClient:fu,getUserProfile:Ai,addInteraction:xu,ACTION:Ou,addActiveDataAction:Yu,addAction:Cu,getAllActions:Tu,getActions:Pu,getGalactusUserProfile:ti,isCrossdomainFinished:oc,isInitialized:ic,getVersionHash:ac},Ku=Ou;function Xu(){return Gu()}function Qu(t){return fu(t)}function Yu(t,e,n,r){return function(t,e,n,r){return Eu(this,void 0,void 0,(function(){return ju(this,(function(o){switch(o.label){case 0:return r._type=n,[4,_i({time:Date.now(),name:e,type:n,payload:r})];case 1:return o.sent()?[4,Cu(t,e,n,r)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}(t,e,n,r)}function Zu(t,e,n,r){return Cu(t,e,n,r)}function tc(t,e){return Pu(t,e)}function ec(t){return Tu(t)}function nc(){return Ai()}function rc(t){return xu(t)}function oc(){return Ho(co.getState())}function ic(){return Eo(co.getState())}function ac(){return gt}function uc(t){return ti(t||k())}function cc(){return lu()}try{(Math.random()<25e-5||mt())&&!bt()&&(Du.install({token:"9c54fb276b8f4be1b6a43ae2a27355d1",version:"surfer-sdk@".concat(gt),onError:function(t){return(null==t?void 0:t.file)?-1!=t.file.indexOf("silversurfer"):!!(null==t?void 0:t.stack)&&-1!=t.stack.indexOf("silversurfer")},network:{enabled:!1,error:!1}}),window.TrackJS=Du)}catch(Me){At.error("Failed to install TrackJS",Me)}try{E(e.SS_PRE_BOOTSTRAP),co.getState().App.state===_r.New&&(At.debug("Booting",gt,co.getState().App.config),function(){var t=this,n=Bu(co,Vo,(function(r){return Hu(t,void 0,void 0,(function(){return Vu(this,(function(t){var o;return r&&(n(),At.debug("Booted, running post-boot actions"),Bu(co,No,(function(t){(function(t){return ue(this,void 0,void 0,(function(){var e,n,r,o,i;return ce(this,(function(a){switch(a.label){case 0:return pe()?[4,Qt(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,fe()?[4,$(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?At.debug("Local pages updated from cross domain"):(At.error("Failed to update local pages"),re("error-updating-pages")),[2,i]}}))}))})(t.map(qr)).then((function(){At.debug("LocalStorage pages saved",t)}))})),Bu(co,Mo,(function(t){(function(t){return ue(this,void 0,void 0,(function(){var e,n,r,o,i;return ce(this,(function(a){switch(a.label){case 0:return pe()?[4,ee(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,fe()?[4,X(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?At.debug("Local actions updated from cross domain"):(At.error("Failed to update local actions"),re("error-updating-actions")),[2,i]}}))}))})(t).then((function(){At.debug("LocalStorage actions saved",t)}))})),Bu(co,Bo,(function(t){(function(t){return ue(this,void 0,void 0,(function(){var e,n,r,o,i;return ce(this,(function(a){switch(a.label){case 0:return pe()?[4,Yt(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,fe()?[4,q(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?At.debug("Local interactions updated from cross domain"):(At.error("Failed to update local interactions"),re("error-updating-interactions")),[2,i]}}))}))})(t).then((function(){At.debug("LocalStorage interactions saved",t)}))})),Mu().catch(At.error),Ai().catch(At.error),(co.getState().App.config.sendTracking||Uu())&&(Uu()||((o=new Date).setMonth(o.getMonth()+12),document.cookie="ss_galactus_enabled=true;expires="+o+";domain=.fandom.com;path=/")),co.dispatch(Ar.ready()),E(e.SS_SDK_READY),ur(_u)),[2]}))}))}))}(),qu=Bu(co,Co,(function(t){t&&(E(e.SS_CROSS_DOMAIN_READY),qu(),At.debug("Cross domain initialized:",To(co.getState()),co.getState().BrowserStorage.crossdomain.statusErrorMessage),Io(co.getState())||Nu().catch(At.error))})),Wu=Bu(co,Ho,(function(t){t&&(Wu(),At.debug("Cross domain finished"))})),function(){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,u,c;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:return[4,ye(t=Math.random()<.05?0==Math.floor(2*Math.random())?ae.IndexedDB:ae.LocalStorage:ae.BOTH)];case 1:return e=s.sent(),[4,be(t)];case 2:return n=s.sent(),[4,ge(t)];case 3:return r=s.sent(),o={interactions:r,actions:n,pages:e},At.debug("Read from local domain",o),co.dispatch(io(o)),[4,we(t)];case 4:i=s.sent(),co.dispatch(ao(i)),a=wo(e)+wo(n)+wo([r]),Ct("sdk-read-pages",e.length,.02,wo(e).toString()),Ct("sdk-total-objects",a,.02,n.length.toString()),Ct("sdk-storage-size",i.indexedDBSize,.02,i.localStorageSize.toString()),s.label=5;case 5:return s.trys.push([5,8,,9]),navigator&&navigator.storage&&navigator.storage.estimate?[4,window.navigator.storage.estimate()]:[3,7];case 6:u=s.sent(),c=u.quota,Ct("sdk-navigator-estimate",u.usage,.02,c.toString()),u.usageDetails&&u.usageDetails.indexedDB&&Ct("sdk-navigator-estimate-indexeddb",u.usageDetails.indexedDB,.02),s.label=7;case 7:return[3,9];case 8:return s.sent(),[3,9];case 9:return[2]}}))}))}().catch(At.error),Io(co.getState())?co.dispatch(Ar.delayed()):(su(),Mu().catch(At.error),co.dispatch(Ar.starting())))}catch(Me){At.error("SilverSurfer bootstrap failed",Me)}const sc=$u})(),r})()}));
//# sourceMappingURL=sdk.js.map